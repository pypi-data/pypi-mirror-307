(window.webpackJsonp=window.webpackJsonp||[]).push([[176,175],{782:function(t,i,a){"use strict";a.d(i,"a",(function(){return l}));var o=a(265),r=a(49);a(25),a(36),a(44),a(38),a(45),a(23),a(41),a(13),a(4),a(271),a(24),a(27),a(22),a(84),a(99),a(824),a(20);function _createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var o=0,r=function F(){};return{s:r,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==a.return||a.return()}finally{if(d)throw c}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,o=Array(i);a<i;a++)o[a]=t[a];return o}var c=["|","+","-","*"],l=function useSearchTextHighlight(t){var i="fields-content-".concat(t),a="search-text-highlight-".concat(t),l=function createRangesToHighlight(t,i){CSS.highlights.delete(a);var o,l=[],d=function getAllCoincidences(t,i,a){var o=[];if("PARTIAL"===a)for(var r,c=0;(r=t.nodeValue.toLowerCase().indexOf(i.toLowerCase(),c))>-1;){var l={start:r,end:r+i.length};o.push(l),c=l.end}if("WORD"===a)for(var d,g=new RegExp("\\b".concat(i,"\\b"),"gi");d=g.exec(t.nodeValue.toLowerCase());)o.push({start:d.index,end:d.index+d[0].length});return o},g=function createRanges(t,i){var a,o=[],r=_createForOfIteratorHelper(i);try{for(r.s();!(a=r.n()).done;){var c=a.value,l=new Range;l.setStart(t,c.start),l.setEnd(t,c.end),o.push(l)}}catch(t){r.e(t)}finally{r.f()}return o},u=function getTextNodesUnder(t){for(var i=[],a=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);a.nextNode();)i.push(a.currentNode);return i.filter((function(t){return t.nodeValue.trim().length>0}))}(t),h=function scapeDSLChars(t){for(var i=t,a=0,o=c;a<o.length;a++){var r=o[a];i=i.replaceAll(r," ")}return i.split(" ").map((function(t){return t.trim()})).filter(Boolean)}(i),p=_createForOfIteratorHelper(u);try{for(p.s();!(o=p.n()).done;){var b,y=o.value,m=_createForOfIteratorHelper(h);try{for(m.s();!(b=m.n()).done;){var v=g(y,d(y,b.value,"WORD"));l.push.apply(l,Object(r.a)(v))}}catch(t){m.e(t)}finally{m.f()}}}catch(t){p.e(t)}finally{p.f()}return l};return{highlightText:function highlightText(t){var c=document.getElementById(i);if(t&&c){var d=l(c,t);CSS.highlights.set(a,Object(o.a)(Highlight,Object(r.a)(d)))}else CSS.highlights.delete(a)}}}},795:function(t,i,a){var o=a(876);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(61).default)("06335773",o,!0,{sourceMap:!1})},806:function(t,i,a){var o=a(905);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(61).default)("22862509",o,!0,{sourceMap:!1})},823:function(t,i,a){"use strict";var o=a(152),r=a(90),c=a(269),l=a(47),flattenIntoArray=function(t,i,a,d,g,u,h,p){for(var b,y,m=g,v=0,S=!!h&&l(h,p);v<d;)v in a&&(b=S?S(a[v],v,i):a[v],u>0&&o(b)?(y=r(b),m=flattenIntoArray(t,i,b,y,m,u-1)-1):(c(m+1),t[m]=b),m++),v++;return m};t.exports=flattenIntoArray},824:function(t,i,a){"use strict";a(839)},839:function(t,i,a){"use strict";var o=a(5),r=a(18),c=a(11),l=a(63),d=a(26),g=a(72),u=a(268),h=a(43),p=a(112),b=a(267),y=a(417),m=a(28),v=a(57),S=m("replace"),w=TypeError,O=c("".indexOf),L=c("".replace),x=c("".slice),_=Math.max;o({target:"String",proto:!0},{replaceAll:function replaceAll(t,i){var a,o,c,m,C,I,A,k,E,T,N=l(this),R=0,H="";if(!g(t)){if((a=u(t))&&(o=h(l(b(t))),!~O(o,"g")))throw new w("`.replaceAll` does not allow non-global regexes");if(c=p(t,S))return r(c,t,N,i);if(v&&a)return L(h(N),t,i)}for(m=h(N),C=h(t),(I=d(i))||(i=h(i)),A=C.length,k=_(1,A),E=O(m,C);-1!==E;)T=I?h(i(C,E,m)):y(C,m,E,[],void 0,i),H+=x(m,R,E)+T,R=E+A,E=E+k>m.length?-1:O(m,C,E+k);return R<m.length&&(H+=x(m,R)),H}})},875:function(t,i,a){"use strict";a(795)},876:function(t,i,a){var o=a(60),r=a(67),c=a(68),l=a(69),d=o((function(t){return t[1]})),g=r(c),u=r(l);d.push([t.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+g+') format("woff2"),url('+u+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */[data-v-36d3b6c3]:root{--color-black:rgba(0,0,0,.87);--color-white:#fff;--color-dark-grey:#2c3135;--color-brand:#ff6961;--color-brand-secondary:#f8bfa5;--color-danger:var(--color-brand);--color-warning:#fd8d5d;--color-success:#60a018;--color-info:#e6e6e6;--bg-action:#405ec9;--bg-action-accent:#3b54b0;--bg-black:rgba(0,0,0,.87);--bg-solid-grey-1:#fafafa;--bg-solid-grey-2:#f5f5f5;--bg-solid-grey-3:#e6e6e6;--bg-accent-grey-1:#fff;--bg-accent-grey-2:#fff;--bg-accent-grey-3:#fafafa;--bg-accent-grey-4:#fafafa;--bg-accent-grey-5:#fff;--bg-opacity-1:rgba(0,0,0,.01);--bg-opacity-2:rgba(0,0,0,.02);--bg-opacity-3:rgba(0,0,0,.03);--bg-opacity-4:rgba(0,0,0,.04);--bg-opacity-6:rgba(0,0,0,.06);--bg-opacity-10:rgba(0,0,0,.1);--bg-opacity-20:rgba(0,0,0,.2);--bg-opacity-37:rgba(0,0,0,.37);--bg-opacity-54:rgba(0,0,0,.54);--bg-opacity-87:rgba(0,0,0,.87);--fg-lighter:#fff;--fg-primary:rgba(0,0,0,.87);--fg-secondary:rgba(0,0,0,.54);--fg-tertiary:rgba(0,0,0,.37);--fg-cuaternary:#405ec9;--fg-status-pending:#bd720a;--fg-status-draft:#08a7bf;--bg-status-draft:#b4e7ee;--bg-status-draft-accent:#bce9f0;--fg-status-discarded:#8f8f8f;--bg-status-discarded:#e0dcdc;--bg-status-discarded-accent:#d6d1d1;--fg-status-submitted:#405ec9;--bg-status-submitted:#b3c3ff;--bg-status-submitted-accent:#a3b7ff;--fg-filter-badge:#4d4ea3;--fg-filter-badge-accent:#b8baff;--bg-filter-badge:#d6d6ff;--bg-filter-badge-accent:#ccf;--fg-label:#4d4ea3;--fg-label-2:#40428c;--bg-label:#4d4ea3;--bg-label-unselected:#f5f5f5;--bg-label-unselected-hover:rgba(0,0,0,.06);--bg-field:linear-gradient(45deg,var(--bg-opacity-2),var(--bg-opacity-1));--border-field:#f0f0f0;--bg-bubble:linear-gradient(45deg,var(--bg-opacity-3),var(--bg-opacity-1));--bg-bubble-inverse:linear-gradient(45deg,var(--bg-opacity-1),var(--bg-opacity-3));--bg-form:#fff;--bg-form-button-area:#f0f2fa;--fg-shortcut-key:rgba(0,0,0,.2);--bg-similarity:#ffe1e0;--fg-similarity:#ff6961;--fg-highlight:#ff6961;--bg-auth:#f5e3db;--bg-auth-gradient:linear-gradient(178.31deg,#ffe5d9 1.36%,#ffd1bc 109.14%);--bg-banner-info:#e6e6e6;--bg-banner-warning:#fbf3d5;--bg-banner-error:#ffd8d6;--bg-tooltip:var(--color-dark-grey);--bg-config-card:#ccd7ff;--bg-config-alert:rgba(255,226,163,.8);--fg-chat-1:#488d81;--fg-chat-2:#e07be0;--fg-chat-3:#fd926a;--fg-chat-4:#d81159;--fg-chat-5:#5534b4}[data-theme=dark][data-v-36d3b6c3]{--bg-black:#000;--bg-action:#405ec9;--bg-action-accent:#536cc6;--bg-solid-grey-1:#16191d;--bg-solid-grey-2:#1f2328;--bg-solid-grey-3:#24282e;--bg-accent-grey-1:#1b1e22;--bg-accent-grey-2:#24282e;--bg-accent-grey-3:#1f2328;--bg-accent-grey-4:#24282e;--bg-accent-grey-5:#2d3239;--bg-opacity-1:hsla(0,0%,100%,.01);--bg-opacity-2:hsla(0,0%,100%,.02);--bg-opacity-3:hsla(0,0%,100%,.03);--bg-opacity-4:hsla(0,0%,100%,.04);--bg-opacity-6:hsla(0,0%,100%,.06);--bg-opacity-10:hsla(0,0%,100%,.1);--bg-opacity-20:hsla(0,0%,100%,.2);--bg-opacity-37:hsla(0,0%,100%,.37);--bg-opacity-54:hsla(0,0%,100%,.54);--bg-opacity-87:hsla(0,0%,100%,.87);--fg-lighter:#dedede;--fg-primary:hsla(0,0%,100%,.87);--fg-secondary:hsla(0,0%,100%,.7);--fg-tertiary:hsla(0,0%,100%,.5);--fg-cuaternary:#6687ff;--fg-status-pending:#d8a45a;--fg-status-draft:#08a7bf;--bg-status-draft:#3d848f;--bg-status-draft-accent:#43919d;--fg-status-discarded:#757575;--bg-status-discarded:#666;--bg-status-discarded-accent:#7a7a7a;--fg-status-submitted:#637fe3;--bg-status-submitted:#4062dd;--bg-status-submitted-accent:#5271e0;--fg-filter-badge:hsla(0,0%,100%,.87);--fg-filter-badge-accent:#4c4ec8;--bg-filter-badge:#5355ca;--bg-filter-badge-accent:#4c4ec8;--fg-label:#a8a9d6;--fg-label-2:#fff;--bg-label:#5052af;--bg-label-unselected:#282d33;--bg-label-unselected-hover:#2d3239;--bg-field:linear-gradient(45deg,var(--bg-opacity-4),var(--bg-opacity-2));--border-field:#2e2e2e;--bg-bubble:linear-gradient(45deg,var(--bg-opacity-4),var(--bg-opacity-2));--bg-field-inverse:linear-gradient(45deg,var(--bg-opacity-2),var(--bg-opacity-4));--bg-form:#1f2328;--bg-form-button-area:rgba(110,126,193,.2);--fg-shortcut-key:hsla(0,0%,100%,.4);--bg-similarity:hsla(2,100%,94%,.04);--fg-similarity:hsla(3,100%,74%,.9);--fg-highlight:#ff6961;--bg-banner-info:#333;--bg-banner-warning:#4b3c07;--bg-banner-error:#660500;--bg-tooltip:#4a5259;--bg-config-card:rgba(82,119,255,.2);--bg-config-alert:rgba(255,226,163,.4);--fg-chat-1:#628e87;--fg-chat-2:#af6daf;--fg-chat-3:#cd8065;--fg-chat-4:#bc4c75;--fg-chat-5:#7a65b8}[data-theme=light][data-v-36d3b6c3]{--csstools-color-scheme--dark: ;color-scheme:light}[data-theme=dark][data-v-36d3b6c3]{--csstools-color-scheme--dark:initial;color-scheme:dark}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.custom-cursor[data-v-36d3b6c3]{cursor:pointer;position:fixed;transform:translate(-50%,-50%)}.custom-cursor__message[data-v-36d3b6c3]{background:#2c3135;background:var(--color-dark-grey);border-radius:5px;box-shadow:1px 1px 3px 0 rgba(0,0,0,.15);color:#fff;color:var(--color-white);font-size:12px;font-size:.75rem;line-height:1;padding:4px;position:fixed;transform:translate(-50%,calc(-50% - 30px));z-index:1}.textual[data-v-36d3b6c3]{background:var(--2e5e2801);border:1px solid #fff;border:1px solid var(--bg-accent-grey-2);cursor:none;height:22px;pointer-events:none;width:4px}[data-theme=dark] .textual[data-v-36d3b6c3]{background:var(--4a5d1a2c)}.textual.entity[data-v-36d3b6c3]{z-index:200}.textual.entity[data-v-36d3b6c3]:before{background:var(--2e5e2801);border-radius:5px;bottom:16px;box-shadow:1px 1px 3px 0 rgba(0,0,0,.15);content:attr(data-entity-name);font-size:10px;font-size:.625rem;height:auto;left:50%;line-height:1em;margin:0;padding:4px;position:absolute;text-transform:uppercase;transform:translate(-50%,-50%);white-space:nowrap}[data-theme=dark] .textual.entity[data-v-36d3b6c3]:before{background:var(--4a5d1a2c)}',""]),d.locals={},t.exports=d},896:function(t,i,a){"use strict";a.r(i);a(25),a(38),a(70),a(71),a(46),a(4),a(32);var o=a(33),r=a(0);function ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),a.push.apply(a,o)}return a}var c={props:{cursorAreaRef:{type:String,required:!0},cursorColor:{type:String,default:"black"},showMessage:{type:Boolean,default:!1},showEntity:{type:Boolean,default:!1},entityName:{type:String,required:!0},message:{type:String,required:!0}},data:function data(){return{cursorPosition:{left:0,top:0},messagePosition:{left:0,top:0},cursorClass:void 0}},created:function created(){this.area=this.$parent.$refs[this.cursorAreaRef]},watch:{showMessage:function showMessage(){this.showMessage&&(this.messagePosition=function _objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach((function(i){Object(o.a)(t,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))}))}return t}({},this.cursorPosition))}},methods:{addCursorClass:function addCursorClass(){this.cursorClass="textual"},removeCursorClass:function removeCursorClass(){this.cursorClass=""},updateCursorPosition:function updateCursorPosition(t){this.cursorPosition.left=t.clientX+"px",this.cursorPosition.top=t.clientY+"px"}},mounted:function mounted(){this.area&&(this.area.addEventListener("mouseover",this.addCursorClass),this.area.addEventListener("mouseleave",this.removeCursorClass),document.addEventListener("mousemove",this.updateCursorPosition))},destroyed:function destroyed(){this.area&&(this.area.removeEventListener("mouseover",this.addCursorClass),this.area.removeEventListener("mouseleave",this.removeCursorClass),document.removeEventListener("mousemove",this.updateCursorPosition))}},l=function __injectCSSVars__(){Object(r.useCssVars)((function(t,i){return{"2e5e2801":t.cursorColor,"4a5d1a2c":t.cursorColor.palette.veryDark}}))},d=c.setup;c.setup=d?function(t,i){return l(),d(t,i)}:l;var g=c,u=(a(875),a(29)),h=Object(u.a)(g,(function render(){var t=this,i=t._self._c;return i("span",[t.showMessage?i("span",{staticClass:"custom-cursor__message",style:{left:t.messagePosition.left,top:t.messagePosition.top},domProps:{textContent:t._s(t.message)}}):t._e(),t._v(" "),i("span",{ref:"cursor",staticClass:"custom-cursor",class:[t.cursorClass,{entity:t.showEntity}],style:{left:t.cursorPosition.left,top:t.cursorPosition.top},attrs:{"data-message":t.message,"data-entity-name":t.entityName}})])}),[],!1,null,"36d3b6c3",null);i.default=h.exports},902:function(t,i,a){"use strict";var o=a(5),r=a(823),c=a(64),l=a(90),d=a(101),g=a(217);o({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:void 0,i=c(this),a=l(i),o=g(i,0);return o.length=r(o,i,i,a,0,void 0===t?1:d(t)),o}})},903:function(t,i,a){"use strict";a(151)("flat")},904:function(t,i,a){"use strict";a(806)},905:function(t,i,a){var o=a(60),r=a(67),c=a(68),l=a(69),d=o((function(t){return t[1]})),g=r(c),u=r(l);d.push([t.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+g+') format("woff2"),url('+u+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */[data-v-c3234078]:root{--color-black:rgba(0,0,0,.87);--color-white:#fff;--color-dark-grey:#2c3135;--color-brand:#ff6961;--color-brand-secondary:#f8bfa5;--color-danger:var(--color-brand);--color-warning:#fd8d5d;--color-success:#60a018;--color-info:#e6e6e6;--bg-action:#405ec9;--bg-action-accent:#3b54b0;--bg-black:rgba(0,0,0,.87);--bg-solid-grey-1:#fafafa;--bg-solid-grey-2:#f5f5f5;--bg-solid-grey-3:#e6e6e6;--bg-accent-grey-1:#fff;--bg-accent-grey-2:#fff;--bg-accent-grey-3:#fafafa;--bg-accent-grey-4:#fafafa;--bg-accent-grey-5:#fff;--bg-opacity-1:rgba(0,0,0,.01);--bg-opacity-2:rgba(0,0,0,.02);--bg-opacity-3:rgba(0,0,0,.03);--bg-opacity-4:rgba(0,0,0,.04);--bg-opacity-6:rgba(0,0,0,.06);--bg-opacity-10:rgba(0,0,0,.1);--bg-opacity-20:rgba(0,0,0,.2);--bg-opacity-37:rgba(0,0,0,.37);--bg-opacity-54:rgba(0,0,0,.54);--bg-opacity-87:rgba(0,0,0,.87);--fg-lighter:#fff;--fg-primary:rgba(0,0,0,.87);--fg-secondary:rgba(0,0,0,.54);--fg-tertiary:rgba(0,0,0,.37);--fg-cuaternary:#405ec9;--fg-status-pending:#bd720a;--fg-status-draft:#08a7bf;--bg-status-draft:#b4e7ee;--bg-status-draft-accent:#bce9f0;--fg-status-discarded:#8f8f8f;--bg-status-discarded:#e0dcdc;--bg-status-discarded-accent:#d6d1d1;--fg-status-submitted:#405ec9;--bg-status-submitted:#b3c3ff;--bg-status-submitted-accent:#a3b7ff;--fg-filter-badge:#4d4ea3;--fg-filter-badge-accent:#b8baff;--bg-filter-badge:#d6d6ff;--bg-filter-badge-accent:#ccf;--fg-label:#4d4ea3;--fg-label-2:#40428c;--bg-label:#4d4ea3;--bg-label-unselected:#f5f5f5;--bg-label-unselected-hover:rgba(0,0,0,.06);--bg-field:linear-gradient(45deg,var(--bg-opacity-2),var(--bg-opacity-1));--border-field:#f0f0f0;--bg-bubble:linear-gradient(45deg,var(--bg-opacity-3),var(--bg-opacity-1));--bg-bubble-inverse:linear-gradient(45deg,var(--bg-opacity-1),var(--bg-opacity-3));--bg-form:#fff;--bg-form-button-area:#f0f2fa;--fg-shortcut-key:rgba(0,0,0,.2);--bg-similarity:#ffe1e0;--fg-similarity:#ff6961;--fg-highlight:#ff6961;--bg-auth:#f5e3db;--bg-auth-gradient:linear-gradient(178.31deg,#ffe5d9 1.36%,#ffd1bc 109.14%);--bg-banner-info:#e6e6e6;--bg-banner-warning:#fbf3d5;--bg-banner-error:#ffd8d6;--bg-tooltip:var(--color-dark-grey);--bg-config-card:#ccd7ff;--bg-config-alert:rgba(255,226,163,.8);--fg-chat-1:#488d81;--fg-chat-2:#e07be0;--fg-chat-3:#fd926a;--fg-chat-4:#d81159;--fg-chat-5:#5534b4}[data-theme=dark][data-v-c3234078]{--bg-black:#000;--bg-action:#405ec9;--bg-action-accent:#536cc6;--bg-solid-grey-1:#16191d;--bg-solid-grey-2:#1f2328;--bg-solid-grey-3:#24282e;--bg-accent-grey-1:#1b1e22;--bg-accent-grey-2:#24282e;--bg-accent-grey-3:#1f2328;--bg-accent-grey-4:#24282e;--bg-accent-grey-5:#2d3239;--bg-opacity-1:hsla(0,0%,100%,.01);--bg-opacity-2:hsla(0,0%,100%,.02);--bg-opacity-3:hsla(0,0%,100%,.03);--bg-opacity-4:hsla(0,0%,100%,.04);--bg-opacity-6:hsla(0,0%,100%,.06);--bg-opacity-10:hsla(0,0%,100%,.1);--bg-opacity-20:hsla(0,0%,100%,.2);--bg-opacity-37:hsla(0,0%,100%,.37);--bg-opacity-54:hsla(0,0%,100%,.54);--bg-opacity-87:hsla(0,0%,100%,.87);--fg-lighter:#dedede;--fg-primary:hsla(0,0%,100%,.87);--fg-secondary:hsla(0,0%,100%,.7);--fg-tertiary:hsla(0,0%,100%,.5);--fg-cuaternary:#6687ff;--fg-status-pending:#d8a45a;--fg-status-draft:#08a7bf;--bg-status-draft:#3d848f;--bg-status-draft-accent:#43919d;--fg-status-discarded:#757575;--bg-status-discarded:#666;--bg-status-discarded-accent:#7a7a7a;--fg-status-submitted:#637fe3;--bg-status-submitted:#4062dd;--bg-status-submitted-accent:#5271e0;--fg-filter-badge:hsla(0,0%,100%,.87);--fg-filter-badge-accent:#4c4ec8;--bg-filter-badge:#5355ca;--bg-filter-badge-accent:#4c4ec8;--fg-label:#a8a9d6;--fg-label-2:#fff;--bg-label:#5052af;--bg-label-unselected:#282d33;--bg-label-unselected-hover:#2d3239;--bg-field:linear-gradient(45deg,var(--bg-opacity-4),var(--bg-opacity-2));--border-field:#2e2e2e;--bg-bubble:linear-gradient(45deg,var(--bg-opacity-4),var(--bg-opacity-2));--bg-field-inverse:linear-gradient(45deg,var(--bg-opacity-2),var(--bg-opacity-4));--bg-form:#1f2328;--bg-form-button-area:rgba(110,126,193,.2);--fg-shortcut-key:hsla(0,0%,100%,.4);--bg-similarity:hsla(2,100%,94%,.04);--fg-similarity:hsla(3,100%,74%,.9);--fg-highlight:#ff6961;--bg-banner-info:#333;--bg-banner-warning:#4b3c07;--bg-banner-error:#660500;--bg-tooltip:#4a5259;--bg-config-card:rgba(82,119,255,.2);--bg-config-alert:rgba(255,226,163,.4);--fg-chat-1:#628e87;--fg-chat-2:#af6daf;--fg-chat-3:#cd8065;--fg-chat-4:#bc4c75;--fg-chat-5:#7a65b8}[data-theme=light][data-v-c3234078]{--csstools-color-scheme--dark: ;color-scheme:light}[data-theme=dark][data-v-c3234078]{--csstools-color-scheme--dark:initial;color-scheme:dark}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.text_field_component[data-v-c3234078]{background:linear-gradient(45deg,rgba(0,0,0,.02),rgba(0,0,0,.01));background:var(--bg-field);border:1px solid #f0f0f0;border:1px solid var(--border-field);border-radius:10px;display:flex;flex-direction:column;gap:8px;padding:16px}.text_field_component:hover .text_field_component__copy-button[data-v-c3234078]{opacity:1}.text_field_component .title-area[data-v-c3234078]{align-items:center;color:rgba(0,0,0,.87);color:var(--fg-primary);display:flex;gap:8px;justify-content:space-between}.text_field_component__area[data-v-c3234078]{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:pre-wrap;word-break:break-word}.text_field_component__title-content[data-v-c3234078]{color:rgba(0,0,0,.54);color:var(--fg-secondary);width:calc(100% - 30px);word-break:break-word}.text_field_component__tooltip[data-v-c3234078]{align-self:flex-start;display:flex}.text_field_component__copy-button[data-v-c3234078]{flex-shrink:0;opacity:0;padding:0}.span-annotation__field[data-v-c3234078],.span-annotation__field--overlapped[data-v-c3234078]{font-size:16px;font-size:1rem;line-height:var(--427a1b7f);margin:0;position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.span-annotation__field--active[data-v-c3234078]{cursor:none}.span-annotation__field--active[data-v-c3234078]::-moz-selection{background-color:transparent}.span-annotation__field--active[data-v-c3234078]::selection{background-color:transparent}.span-annotation__field--overlapped[data-v-c3234078]:focus,.span-annotation__field[data-v-c3234078]:focus{outline:none}.fade-enter-active[data-v-c3234078],.fade-leave-active[data-v-c3234078]{transition:all .25s}.fade-enter-from[data-v-c3234078],.fade-leave-to[data-v-c3234078]{opacity:0}[data-v-c3234078] [id^=entity-span-container]{left:0;position:absolute;top:0}[data-v-c3234078]::highlight(search-text-highlight){color:#ff6961;color:var(--fg-highlight)}',""]),d.locals={},t.exports=d},925:function(t,i,a){"use strict";a.r(i);a(13),a(62),a(4),a(83),a(38),a(23),a(32);var o=a(0),r=a(88),c=a(782),l=a(265),d=a(12),g=a(49),u=a(1),h=a(2),p=(a(25),a(36),a(44),a(40),a(902),a(45),a(903),a(100),a(41),a(24),a(22),a(27),a(149),a(20),a(48),a(53),function(){function SpanSelection(){Object(u.a)(this,SpanSelection),this.selections=[]}return Object(h.a)(SpanSelection,[{key:"spans",get:function get(){return Object(g.a)(this.selections)}},{key:"crateSpan",value:function crateSpan(t,i){if(t&&!this.isOutOfRange(t)){var a=Object.assign({},t);if(!(null==i?void 0:i.allowCharacter)){if(this.isEmpty(a.text))return;this.completeLeftSide(a),this.completeRightSide(a)}var o=a.from,r=a.to,c=a.entity,l=a.text,d=a.node;return{from:o,to:r,entity:c,text:l,node:{element:d.element,id:d.id}}}}},{key:"addSpan",value:function addSpan(t,i){var a=this.crateSpan(t,i);if(a){var o=this.selections.filter((function(t){return t.node.id===a.node.id})),r=this.selections.filter((function(t){return a.from<=t.from&&a.to>=t.to||a.from>=t.from&&a.to<=t.to||a.from<t.from&&a.to>t.from||a.from<t.to&&a.to>t.to}));(null==i?void 0:i.allowOverlap)||(this.selections=[].concat(Object(g.a)(this.selections.filter((function(t){return t.node.id!==a.node.id}))),Object(g.a)(o.filter((function(t){return!r.includes(t)}))))),this.select(a)}}},{key:"select",value:function select(t){if(!this.exists(t)){this.completeOutOfBoundaries(t);var i=this.selections.filter((function(i){return i.node.id===t.node.id})).filter((function(i){return t.from<=i.from&&t.to>=i.to||t.from>=i.from&&t.to<=i.to||t.from<i.from&&t.to>i.from||t.from<i.to&&t.to>i.to})).reduce((function(t,i){return Math.max(t,i.overlap.level)}),0)+1,a=Object.assign(Object.assign({},t),{overlap:{level:i,index:i-1}});this.selections.push(a)}}},{key:"loadSpans",value:function loadSpans(t){var i=this;t.forEach((function(t){return i.select(t)}))}},{key:"replaceEntity",value:function replaceEntity(t,i){var a=this,o=this.selections.find((function(i){return a.createId(i)===a.createId(t)}));o&&(o.entity=i)}},{key:"clear",value:function clear(){this.selections=[]}},{key:"removeSpan",value:function removeSpan(t){var i=this;this.remove(t);var a=this.spans.filter((function(i){return i.node.id===t.node.id}));a.forEach((function(t){i.remove(t)})),this.loadSpans(a)}},{key:"remove",value:function remove(t){var i=this;this.selections=this.selections.filter((function(a){return i.createId(a)!==i.createId(t)}))}},{key:"completeOutOfBoundaries",value:function completeOutOfBoundaries(t){t.from=Math.max(0,t.from),t.to=Math.min(t.node.element.textContent.length,t.to)}},{key:"isOutOfRange",value:function isOutOfRange(t){return t.from<0||t.to<0}},{key:"exists",value:function exists(t){var i=this;return this.selections.some((function(a){return i.createId(a)===i.createId(t)}))}},{key:"completeLeftSide",value:function completeLeftSide(t){for(;;){var i=t.node.text.charAt(t.from-1);if(this.isEmpty(i)||this.isSymbol(i)||0===t.to)break;var a=t.text.charAt(0);if(this.isEmpty(a)){t.from++,t.text=t.text.slice(1);break}t.from--,t.text="".concat(i).concat(t.text)}}},{key:"completeRightSide",value:function completeRightSide(t){for(;;){var i=t.node.text.charAt(t.to);if(this.isEmpty(i)||this.isSymbol(i)||t.to===t.node.text.length)break;var a=t.text.charAt(t.text.length-1);if(this.isEmpty(a)){t.to--,t.text=t.text.slice(0,-1);break}t.to++,t.text="".concat(t.text).concat(i)}}},{key:"isEmpty",value:function isEmpty(t){return" "===t||"\n"===t}},{key:"isSymbol",value:function isSymbol(t){return!["0","1","2","3","4","5","6","7","8","9"].includes(t)&&t.toLowerCase()===t.toUpperCase()}},{key:"createId",value:function createId(t){return"".concat(t.from,"-").concat(t.to,"-").concat(t.entity.id,"-").concat(t.node.id)}}],[{key:"getInstance",value:function getInstance(){return this.instance||(this.instance=new SpanSelection),this.instance}}])}());function _createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var o=0,r=function F(){};return{s:r,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==a.return||a.return()}finally{if(d)throw c}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,o=Array(i);a<i;a++)o[a]=t[a];return o}var b=function(){return Object(h.a)((function Highlighting(t,i,a,o){var r=this;Object(u.a)(this,Highlighting),this.nodeId=t,this.EntityComponentConstructor=i,this.spanSelection=p.getInstance(),this.entity=null,this.scroll=function(){r.applyEntityStyle()},this.styles=Object.assign({entitiesGap:16,lineHeight:a.allowOverlap?48:32,spanContainerId:"entity-span-container-".concat(t),entityCssKey:"hl"},o),this.config=Object.assign({allowOverlap:!1,allowCharacter:!1,lineHeight:this.styles.lineHeight},a)}),[{key:"spans",get:function get(){return Object(g.a)(this.spanSelection.spans)}},{key:"nodeSpans",get:function get(){var t=this;return this.spans.filter((function(i){return i.node.id===t.nodeId}))}},{key:"entitySpanContainer",get:function get(){var t=this.styles.spanContainerId,i=document.getElementById(t);return i||((i=document.createElement("div")).id=t),i}},{key:"mount",value:function mount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!CSS.highlights)throw new Error("The CSS Custom Highlight API is not supported in this browser!");var i=document.getElementById(this.nodeId);if(!i)throw new Error("Node with id ".concat(this.nodeId," not found"));this.attachNode(i),this.loadHighlights(t)}},{key:"unmount",value:function unmount(){this.removeAllHighlights()}},{key:"changeSelectedEntity",value:function changeSelectedEntity(t){this.entity=t}},{key:"allowCharacterAnnotation",value:function allowCharacterAnnotation(t){this.config.allowCharacter=t,this.showPreSelection()}},{key:"replaceEntity",value:function replaceEntity(t,i){this.spanSelection.replaceEntity(t,i),this.applyStyles()}},{key:"removeAllHighlights",value:function removeAllHighlights(){this.spanSelection.clear(),this.applyStyles()}},{key:"loadHighlights",value:function loadHighlights(t){var i=this;if(!this.node)throw new Error("Node not attached, use `attachNode` method with HTMLElement that contains the text to select");var a=t.map((function(t){return Object.assign(Object.assign({},t),{text:"",node:{element:i.node.firstChild,id:i.nodeId}})}));this.spanSelection.loadSpans(a),this.applyStyles()}},{key:"updateLineHeight",value:function updateLineHeight(){var t=this.nodeSpans.reduce((function(t,i){return Math.max(t,i.overlap.level)}),0),i=t>2?this.styles.lineHeight+this.styles.entitiesGap*Math.max(0,t-2):this.styles.lineHeight;this.config.lineHeight=i}},{key:"attachNode",value:function attachNode(t){var i=this;this.node=t,t.parentNode.appendChild(this.entitySpanContainer.cloneNode(!0)),this.node.addEventListener("click",(function(){i.highlightUserSelection(),i.applyStyles()})),document.addEventListener("selectionchange",(function(){i.showSelection(),i.showPreSelection()})),new ResizeObserver((function(){return i.applyStyles()})).observe(t),this.applyStylesOnScroll()}},{key:"showSelection",value:function showSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if((null==i?void 0:i.node.id)===this.nodeId){var a=this.createRange(i);a&&CSS.highlights.set(t,new Highlight(a))}}}},{key:"showPreSelection",value:function showPreSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-pre-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if(i.node.id===this.nodeId){var a=this.spanSelection.crateSpan(i,this.config);if(a){var o=this.createRange(Object.assign(Object.assign({},a),{from:a.from,to:i.from})),r=this.createRange(Object.assign(Object.assign({},a),{from:i.to,to:a.to}));o&&r&&CSS.highlights.set(t,new Highlight(o,r))}}}}},{key:"applyStylesOnScroll",value:function applyStylesOnScroll(){var t;this.scrollingElement&&this.scrollingElement.removeEventListener("scroll",this.scroll),this.scrollingElement=this.getScrollParent(this.entitySpanContainer),this.scrollingElement&&(this.scrollingElement.removeEventListener("scroll",this.scroll),null===(t=this.scrollingElement)||void 0===t||t.addEventListener("scroll",this.scroll))}},{key:"highlightUserSelection",value:function highlightUserSelection(){var t=this.createTextSelection(!0);this.spanSelection.addSpan(t,this.config)}},{key:"getSelectedText",value:function getSelectedText(){if(window.getSelection)return window.getSelection()}},{key:"applyStyles",value:function applyStyles(){CSS.highlights&&(this.applyHighlightStyle(),this.applyEntityStyle())}},{key:"applyHighlightStyle",value:function applyHighlightStyle(){var t,i=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return"".concat(i.styles.entityCssKey,"-").concat(t.entity.id)},o={},r=_createForOfIteratorHelper(this.spans);try{for(r.s();!(t=r.n()).done;){var c=t.value,u=a(c);o[u]||(o[u]=[]);var h=this.createRange(c);o[u].push(h)}}catch(t){r.e(t)}finally{r.f()}var p,b=this.styles.entityCssKey,y=_createForOfIteratorHelper(CSS.highlights.entries());try{for(y.s();!(p=y.n()).done;){var m=Object(d.a)(p.value,1)[0];m.startsWith(b)&&CSS.highlights.delete(m)}}catch(t){y.e(t)}finally{y.f()}for(var v=0,S=Object.entries(o);v<S.length;v++){var w=Object(d.a)(S[v],2),O=w[0],L=w[1];CSS.highlights.set(O,Object(l.a)(Highlight,Object(g.a)(L.flat())))}}},{key:"hoverSpan",value:function hoverSpan(t,i){var a=this;this.applyHighlightStyle((function(o){return t===o&&i?"".concat(a.styles.entityCssKey,"-").concat(o.entity.id,"-hover"):"".concat(a.styles.entityCssKey,"-").concat(o.entity.id)}))}},{key:"applyEntityStyle",value:function applyEntityStyle(){for(var t=this;this.entitySpanContainer.firstChild;)this.entitySpanContainer.removeChild(this.entitySpanContainer.firstChild);this.updateLineHeight();var i,a=_createForOfIteratorHelper(this.nodeSpans);try{var o=function _loop(){var a=i.value,o=t.createPosition(a),r=t.EntityComponentConstructor(a,o,(function(i){return t.hoverSpan(a,i)}),(function(i){return t.removeSpan(i)}),(function(i){return t.replaceEntity(a,i)}),(function(i,a){return t.addSpanBaseOn(i,a)}));t.entitySpanContainer.appendChild(r)};for(a.s();!(i=a.n()).done;)o()}catch(t){a.e(t)}finally{a.f()}}},{key:"addSpanBaseOn",value:function addSpanBaseOn(t,i){if(t.entity.id!==i.id){var a=Object.assign(Object.assign({},t),{entity:i});this.spanSelection.select(a),this.applyStyles()}}},{key:"createPosition",value:function createPosition(t){var i=this.createRange(Object.assign(Object.assign({},t),{to:t.from+1})).getBoundingClientRect(),a=this.createRange(Object.assign(Object.assign({},t),{from:t.to-1})).getBoundingClientRect(),o=this.createRange(t).getBoundingClientRect(),r=this.entitySpanContainer.getBoundingClientRect(),c=this.entitySpanContainer.scrollTop,l=i.left,d=i.top,g=a.right,u=a.top,h=o.width,p={left:l,top:d+window.scrollY+this.styles.entitiesGap/10,width:h,right:g+window.scrollX,topEnd:u+window.scrollY};return t.overlap.level>0&&(p.top+=this.styles.entitiesGap*t.overlap.index,p.topEnd+=this.styles.entitiesGap*t.overlap.index),{top:p.top-r.top+c,left:p.left-r.left,width:p.width,topEnd:p.topEnd-r.top+c,right:p.right-r.left,lineHeight:this.config.lineHeight,baseEntityGap:this.styles.entitiesGap}}},{key:"removeSpan",value:function removeSpan(t){this.spanSelection.removeSpan(t),this.applyStyles()}},{key:"createRange",value:function createRange(t){var i=t.from,a=t.to,o=t.node;try{var r=new Range;return r.setStart(o.element,i),r.setEnd(o.element,a),r}catch(t){}}},{key:"createTextSelection",value:function createTextSelection(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getSelectedText();if("Range"===(null==i?void 0:i.type)&&this.entity){var a=i.toString(),o=i.anchorOffset,r=i.focusOffset,c={from:Math.min(o,r),to:Math.max(o,r),text:a,entity:this.entity,node:{id:this.nodeId,element:i.focusNode,text:i.focusNode.textContent}};return t&&i.empty(),c}}},{key:"getScrollParent",value:function getScrollParent(t){return null==t?null:t.scrollHeight>t.clientHeight?t:this.getScrollParent(t.parentNode)}}])}(),y=a(978),m=function useSpanAnnotationTextFieldViewModel(t){var i=t.name,a=t.spanQuestion,l=t.id,d=t.searchText,g=Object(c.a)(i),u=Object(r.f)(!0),h=a.answer,p={allowOverlap:a.settings.allow_overlapping},m=function selectEntity(t){h.options.forEach((function(i){i.isSelected=i.id===(null==t?void 0:t.id)})),v.value.changeSelectedEntity(t)},v=Object(r.f)(new b(l,(function entityComponentFactory(t,i,r,c,l,d){var g,u=o.default.extend(y.default),p=h.options.find((function(i){return i.id===t.entity.id})),b=null===(g=a.suggestion)||void 0===g?void 0:g.getSuggestion({start:t.from,end:t.to,label:null==p?void 0:p.value}),S=v.value.spans.filter((function(i){return i.from===t.from&&i.to===t.to})),w=new u({propsData:{span:t,spanInRange:S,entity:p,spanQuestion:a,entityPosition:i,suggestion:b}});return w.$on("on-remove-span",c),w.$on("on-hover-span",r),w.$on("on-add-span-base-on",d),w.$on("on-replace-entity",(function(t){m(t),l(t)})),w.$mount(),w.$el}),p));return Object(r.g)((function(){return h.options}),(function(){!function updateSelectedEntity(){var t=h.options.find((function(t){return t.isSelected}));m(t)}()}),{deep:!0}),Object(r.g)((function(){return v.value.spans}),(function(t){var i=function convertSpansToResponse(t){return t.map((function(t){var i=h.options.find((function(i){return i.id===t.entity.id}));if(i)return{start:t.from,end:t.to,label:i.value}})).filter(Boolean)}(t.filter((function(t){return t.node.id===l})));a.answer.response({value:i})}),{deep:!0}),Object(r.g)((function(){return d}),(function(t){g.highlightText(t)})),Object(r.d)((function(){var t=function convertResponseToSpans(t){return t.map((function(t){var i=h.options.find((function(i){return i.value===t.label}));if(i)return{entity:{id:i.id},from:t.start,to:t.end}})).filter(Boolean)}(a.answer.valuesAnswered);try{v.value.mount(t)}catch(t){u.value=!1}g.highlightText(d)})),Object(r.e)((function(){v.value.unmount()})),{spanAnnotationSupported:u,highlighting:v}},v={name:"SpanAnnotationTextField",props:{id:{type:String,required:!0},name:{type:String,required:!0},title:{type:String,required:!0},fieldText:{type:String,required:!0},spanQuestion:{type:Object,required:!0},searchText:{type:String,default:""}},data:function data(){return{visibleShortcutsHelper:!1,alreadyUsedTheCharacterAnnotation:!1,mouseDown:!1,mouseTimeout:null,mouseEnter:!1,showCursorWithEntity:!1,timeOutShowEntity:null}},computed:{lineHeight:function lineHeight(){return"".concat(this.highlighting.config.lineHeight,"px")},selectedEntity:function selectedEntity(){return this.spanQuestion.answer.options.find((function(t){return t.isSelected}))},selectedEntityColor:function selectedEntityColor(){var t;return null===(t=this.selectedEntity)||void 0===t?void 0:t.color},hasSelectedEntity:function hasSelectedEntity(){return!!this.selectedEntity},allowOverlapping:function allowOverlapping(){return this.highlighting.config.allowOverlap}},watch:{mouseEnter:function mouseEnter(t,i){var a=this;t!==i&&(clearTimeout(this.timeOutShowEntity),this.showCursorWithEntity=!0,this.timeOutShowEntity=setTimeout((function(){a.showCursorWithEntity=!1}),3e3))}},methods:{allowCharacterAnnotation:function allowCharacterAnnotation(t){this.highlighting.allowCharacterAnnotation(t)},keyPressing:function keyPressing(t,i){"Shift"===t.key&&(t.preventDefault(),t.stopPropagation(),this.allowCharacterAnnotation(i),this.alreadyUsedTheCharacterAnnotation=!0,this.visibleShortcutsHelper=!1)},showShortcutsHelper:function showShortcutsHelper(t){this.spanQuestion.settings.allow_character_annotation&&(this.alreadyUsedTheCharacterAnnotation||(this.visibleShortcutsHelper=t))},onMouseDown:function onMouseDown(){this.mouseDown=!0},onMouseUp:function onMouseUp(){this.mouseDown=!1,this.mouseTimeout&&clearTimeout(this.mouseTimeout),this.showShortcutsHelper(!1)},onMouseMove:function onMouseMove(){var t=this,i=this.mouseDown;this.mouseTimeout=setTimeout((function(){t.mouseDown&&t.showShortcutsHelper(i)}),500)},onKeyDown:function onKeyDown(t){this.keyPressing(t,!0)},onKeyUp:function onKeyUp(t){this.keyPressing(t,!1)}},mounted:function mounted(){this.spanQuestion.settings.allow_character_annotation&&(document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp))},beforeDestroy:function beforeDestroy(){this.spanQuestion.settings.allow_character_annotation&&(document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp))},setup:function setup(t){return m(t)}},S=function __injectCSSVars__(){Object(o.useCssVars)((function(t,i){return{"427a1b7f":t.lineHeight}}))},w=v.setup;v.setup=w?function(t,i){return S(),w(t,i)}:S;var O=v,L=(a(904),a(29)),x=Object(L.a)(O,(function render(){var t=this,i=t._self._c;return i("div",{key:t.name,staticClass:"text_field_component",attrs:{"aria-label":"Data Record Field"},on:{mouseenter:function mouseenter(i){i.stopPropagation(),t.mouseEnter=!0},mouseleave:function mouseleave(i){i.stopPropagation(),t.mouseEnter=!1}}},[i("div",{staticClass:"title-area --body2"},[i("span",{staticClass:"text_field_component__title-content",attrs:{"aria-label":"Field Name: "+t.title},domProps:{textContent:t._s(t.title)}}),t._v(" "),i("BaseActionTooltip",{staticClass:"text_field_component__tooltip",attrs:{tooltip:t.$t("copied"),"tooltip-position":"left"}},[i("BaseButton",{staticClass:"text_field_component__copy-button",attrs:{title:t.$t("button.tooltip.copyToClipboard"),"aria-label":t.$t("button.tooltip.copyToClipboard"),role:"button"},on:{click:function click(i){return i.preventDefault(),t.$copyToClipboard(t.fieldText)}}},[i("svgicon",{attrs:{color:"#acacac",name:"copy",width:"18",height:"18","aria-hidden":"true"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"text_field_component__area --body1",attrs:{id:"fields-content-".concat(t.name),"aria-label":"Data entry for Field: "+t.title}},[i("p",{ref:"spanAnnotationField",class:[t.allowOverlapping?"span-annotation__field--overlapped":"span-annotation__field",t.hasSelectedEntity?"span-annotation__field--active":null],attrs:{id:t.id,tabindex:"0"},domProps:{innerHTML:t._s(t.fieldText)},on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onMouseMove}}),t._v(" "),t.hasSelectedEntity?i("SpanAnnotationCursor",{attrs:{"cursor-area-ref":"spanAnnotationField","cursor-color":t.selectedEntityColor,"show-message":t.visibleShortcutsHelper,"show-entity":t.showCursorWithEntity,"entity-name":t.selectedEntity.text,message:t.$t("spanAnnotation.shortcutHelper")}}):t._e(),t._v(" "),[t._l(t.spanQuestion.answer.options,(function(a){var o=a.id,r=a.color;return[i("style",{key:o,attrs:{scoped:""}},[t._v("\n          .span-annotation__field::highlight(hl-"+t._s(o)+"), .span-annotation__field::highlight(hl-"+t._s(o)+"-selection) {\n            background-color: "+t._s(r)+';\n          }\n          [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(o)+'), [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(o)+"-selection) {\n            background-color: "+t._s(r.palette.veryDark)+";\n          }\n          .span-annotation__field::highlight(hl-"+t._s(o)+"-pre-selection) {\n            background: "+t._s(r.palette.light)+';\n          }\n          [data-theme="dark"] .span-annotation__field::highlight(hl-'+t._s(o)+"-pre-selection) {\n            background: "+t._s(r.palette.dark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(o)+"-selection) {\n            background: "+t._s(r)+';\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(o)+"-selection) {\n            background: "+t._s(r.palette.veryDark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(o)+"-pre-selection) {\n            background: "+t._s(r.palette.light)+';\n            color: inherit;\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(o)+"-pre-selection) {\n            background: "+t._s(r.palette.dark)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(o)+"-hover) {\n            background: "+t._s(r)+';\n          }\n          [data-theme="dark"] .span-annotation__field--overlapped::highlight(hl-'+t._s(o)+"-hover) {\n            background: "+t._s(r.palette.veryDark)+";\n          }\n          ::highlight(search-text-highlight-"+t._s(t.name)+") {\n            color: #ff675f;\n          }\n        ")])]}))]],2)])}),[],!1,null,"c3234078",null);i.default=x.exports;installComponents(x,{BaseButton:a(414).default,BaseActionTooltip:a(415).default,SpanAnnotationCursor:a(896).default})}}]);