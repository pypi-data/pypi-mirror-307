name: gama

services:
  gama_gs:
    container_name: gama_gs
    image: ghcr.io/greenroom-robotics/gama_gs:${GAMA_VERSION:-latest}
    volumes:
      - ~/.config/greenroom:/home/ros/.config/greenroom
      - /tmp/.X11-unix:/tmp/.X11-unix:rw
      - type: bind
        source: /dev
        target: /dev
        bind:
          propagation: rshared
    privileged: true
    command: ${GAMA_GS_COMMAND}
    environment:
      - ROS_DOMAIN_ID
      - ROS_STATIC_PEERS
      - GAMA_GS_CONFIG

networks:
  gs:
