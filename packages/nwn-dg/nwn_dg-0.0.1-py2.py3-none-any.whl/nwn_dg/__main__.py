#!/usr/bin/env python3
import random

from .canvas import Cairo, Tileset
from .classes import Dungeon, Room
from .generators import Scattered

map_width = 19
map_height = map_width

grid_size = 20

# min_room_size = 2
max_room_size = 3

# fmt: off
# state = ( 3, ( 2147483648, 3210602548, 756023999, 133656737, 2754250621, 2656483850, 1119432939, 4220882965, 2328891775, 3009899383, 3342709988, 2376440181, 78081186, 4171911904, 2893072136, 601939405, 4214130758, 2591753972, 196398522, 1025419916, 1342662777, 3510268236, 2563267616, 1927099041, 732770044, 3824729796, 2208651439, 1208891754, 2436915458, 3379145449, 2417139786, 889278114, 2908475433, 1299897320, 1137171521, 566488318, 3891658304, 1404458575, 3052690547, 1490314417, 3609199336, 2333269144, 2743304728, 3206528529, 1499684447, 1394291324, 4199078676, 2465684021, 558057076, 551328571, 2211809568, 2350789255, 2160142749, 3965141615, 1645389819, 4142895485, 1654325741, 2057165706, 1791103644, 3104180984, 630627008, 3772829188, 126575879, 825726933, 3290626618, 4151188584, 2316185970, 2591717610, 2356857126, 633154200, 1971124024, 3283198560, 1074657541, 789065378, 611484118, 3613747963, 2294269852, 984389050, 1544100263, 1587115166, 1443001107, 1888593026, 1834945703, 3615233592, 1644746219, 1645799667, 2978602235, 4279594285, 2099046308, 562330664, 3382138630, 2012411673, 1957150968, 2598552608, 3065989504, 1630471942, 3666328863, 3703903151, 2286448645, 469119748, 2628992277, 632899236, 1389595363, 1574106960, 1576602485, 4243128915, 3239874465, 1355027058, 798287441, 3577115609, 4246520302, 1792792538, 2971105458, 3482149082, 3281041397, 4052047120, 1900777202, 2237049890, 2806280013, 1226466739, 338997117, 1279799477, 1765546231, 3785299208, 1845171182, 1987212350, 2535647134, 3501374210, 1883441692, 2554137798, 276099168, 2402607547, 3224234668, 604048587, 2026526307, 4023464134, 1423748153, 1069587607, 2735601554, 3841390263, 2693932184, 3123908819, 3201706675, 1734488011, 2639236043, 2099290226, 2230320223, 3348079480, 246034107, 3810272005, 302130627, 2714510285, 646275426, 2332665177, 2011504162, 2003883798, 1126397478, 3061093286, 297168070, 2754610910, 3283414525, 3837248614, 2147615531, 2922250967, 711401292, 3575808569, 1452362564, 1338442979, 2626361123, 11099286, 382259352, 1226873921, 1404818560, 2083014420, 737678029, 1157974283, 2803711660, 2864679281, 1221739095, 388178546, 2020406472, 2538391275, 801443254, 522856078, 2010922617, 961718516, 1890009256, 1917451253, 7320684, 2611688259, 2280990891, 3435285004, 2503124238, 3831054210, 746277985, 131207488, 3716776442, 3261664822, 1616906770, 2323110400, 2009642360, 3756948363, 4272963838, 1568891066, 3114272349, 2246986376, 3887770135, 4014400591, 802609366, 3665515259, 2250645348, 1799470924, 2763988397, 3009068558, 722661941, 3211771367, 936003079, 2514560285, 235583247, 2112084202, 2900701679, 4011665401, 3900229290, 1916638306, 2754489451, 3555136226, 3491435020, 1382499421, 1605871544, 453919938, 45819748, 302327411, 1614376570, 3975872941, 4213445741, 2399359432, 3983324136, 4254592758, 3334005061, 1120280080, 557850232, 386918739, 1691745562, 2187583633, 2416763712, 2922605849, 2202550878, 1349421341, 3625291359, 1409742988, 3542744712, 3559036925, 999647022, 2202427956, 441459509, 1090764394, 2543177049, 648889186, 3771757181, 1673055337, 3666568995, 1720122588, 3911935341, 3458038660, 855634134, 82617289, 2168705297, 2664932502, 2447012998, 3717448301, 1515619281, 1157541748, 2913946190, 571387762, 1028009332, 4221306998, 4027765169, 110041301, 2144342286, 411529621, 3444498725, 2488298418, 1523784349, 1920085376, 2473467286, 455513043, 1071800236, 2882633365, 3290186981, 2510697175, 397882314, 396735246, 2809019416, 914884345, 3666121882, 3315866464, 334728308, 675957757, 2601091219, 1554492127, 1126742193, 2453210027, 2297023932, 4293424915, 1650381036, 1472463473, 2806925984, 331544792, 3376157958, 2636358238, 278627162, 1245287814, 1061126165, 3659164498, 1875617418, 2202023458, 2306288839, 3575232238, 1637884025, 2104190168, 247880671, 2991796763, 1886105097, 1685348011, 3269478890, 917867541, 168260232, 1666644181, 3005074331, 3406024182, 4143291256, 2016010067, 3969891744, 170629902, 890008946, 3713804172, 3388495379, 92512062, 745312078, 212518697, 2638063993, 1199004070, 2487991873, 4152673872, 1668964067, 4042301840, 2251833963, 2055842240, 2343775134, 1318682005, 2731281500, 915190498, 2779263503, 564633142, 4007143064, 2016019133, 1334344115, 1041400172, 3949336428, 2781048680, 2813127095, 1090600495, 1008195093, 3862011263, 1906211756, 222464262, 2454408579, 2499751557, 3347972212, 4142378216, 3815834923, 3950840520, 1190108438, 325115613, 3701525238, 1230640591, 3960700583, 2893087950, 3628127051, 2921523201, 1475161401, 2791400564, 4018364027, 478475613, 375253445, 3428357115, 1568431629, 3111276284, 2388704203, 1438993905, 594588989, 3236429578, 542806171, 330893041, 576730136, 2484583834, 1735675083, 4042701124, 2913186040, 3293660721, 627413495, 1185975521, 754571740, 2826433057, 835527649, 1378266265, 3297830644, 3833594261, 1483767936, 2223053699, 2911954372, 2314789148, 898094625, 2514948071, 4241606401, 1795290143, 242136542, 4216784874, 2605805613, 3543054699, 2877608641, 1366578990, 733746398, 3776447260, 1580289829, 2347229964, 893443911, 545563866, 3307962182, 1194787894, 1668666643, 3631018983, 397731001, 1474779134, 662837161, 2083147273, 539939262, 1419393444, 3829545267, 329889632, 1451014995, 265342628, 1367050920, 3430614864, 3151138158, 443732211, 2666616549, 1820372777, 3707394017, 3008091002, 2776306912, 3905226720, 2245132934, 3263681018, 1764185069, 935000232, 2469285555, 813305126, 1714919356, 2187540319, 3964064785, 1934412022, 4211902176, 296269774, 909087758, 2160857734, 4225959078, 208528724, 3880289673, 143929240, 1834651879, 17514947, 1041192154, 817674837, 1583759828, 3953340536, 78748462, 1571614113, 966908539, 1957180310, 120591314, 1691087106, 955699890, 3497402519, 1022417823, 1561292809, 95709714, 3491474562, 2159264402, 3949958929, 2480772859, 2367448653, 490724671, 366285470, 768700330, 2563810652, 2783625352, 1847168671, 2608790972, 616934869, 3884527087, 431503601, 3510147133, 958244052, 773672840, 3221076419, 2708227798, 3585386877, 2918626019, 1161823874, 2785338057, 273605177, 2826658798, 3102290072, 3767830191, 1547317408, 3170084955, 512252429, 235633736, 1522293361, 3811117451, 2762335117, 4171603948, 1708878367, 1433466135, 1996723079, 272414181, 214937257, 1491672072, 3979373164, 1312195499, 2376724866, 1746924826, 3095200168, 1495733892, 2169762011, 2426902432, 4027850156, 82509672, 3498143247, 1234275163, 865399360, 3555856593, 2558635154, 2363210254, 628601726, 3506172165, 3881127431, 3146847542, 1684208425, 1312601393, 2158307058, 2578421953, 2800457096, 3373796994, 610638007, 787751593, 114372660, 3555554282, 736006113, 2560430657, 2753283080, 102876393, 2117900314, 3405096679, 182937391, 972507726, 1645264398, 17729927, 1678853267, 325997633, 676149365, 1337121255, 3201280670, 2032745929, 735256463, 821932398, 816609541, 4138049396, 3762664153, 3480348357, 3635694410, 2534026482, 2923201633, 4143224703, 2833996909, 4176744269, 3977182839, 3821674155, 280961388, 4039057177, 3967284292, 1183972554, 1224310660, 1685803757, 3682873694, 470996483, 515117691, 401609246, 2778717347, 3998156185, 1580840950, 3445462517, 430984789, 3543435742, 2746140780, 3306605887, 2933090421, 1487143419, 4149921933, 689255489, 2395387560, 501050779, 1720864264, 3281666567, 2845121207, 55550149, 2837939147, 2571257867, 2998763656, 1123302664, 1655219128, 264527072, 140311334, 624), None)
# state = (3, (2147483648, 3997790080, 3690501242, 1146717042, 4235440030, 1769353968, 524091516, 3534563274, 38961933, 2621242572, 4078473159, 2371924586, 932059759, 1957683707, 2101768785, 990572301, 4274516137, 1096130408, 132232433, 825583691, 4093501442, 1002664147, 2863307177, 3131666377, 2741230300, 3569984247, 758760747, 3031234703, 948794657, 1694354277, 716208837, 826218668, 1792076798, 3984108209, 3922504854, 2750624338, 2581054736, 2184926451, 2182390940, 4278691430, 1119316132, 595035947, 3194075712, 628000233, 2558660193, 2520546585, 3677438805, 1207540682, 288606760, 2273446788, 526651762, 611437755, 3435433793, 3861744941, 2197120188, 3483483188, 401808111, 1400382709, 3855232257, 890372563, 2645198997, 3754921176, 2740303023, 2750659978, 253123381, 1202508209, 3879996634, 1634612836, 3066689951, 72264558, 2768463680, 4161069720, 655469539, 1872534617, 3465467119, 1925692707, 1851952099, 423685049, 2800858606, 1456857735, 2928250308, 120052965, 468533247, 3240811462, 1513334278, 1143519155, 345056979, 44014764, 3599491149, 1706067013, 816562421, 2182199789, 3288100812, 3427635417, 1633354710, 2048448158, 2253047589, 4079794107, 1934855875, 2818711714, 990675637, 1121692235, 2225334037, 312326297, 207942092, 2626668548, 1614638706, 836829624, 1723012881, 2709558253, 2447654158, 286915229, 2430703413, 3119028833, 3868796174, 2085690680, 725684563, 1782290924, 2887192474, 3087857412, 875223715, 4282163035, 349254664, 4070379311, 2416578423, 4259629028, 1797865554, 3053561253, 1730794621, 2860015728, 1001398491, 221310695, 3884838978, 255664443, 83173000, 2695775821, 3272761300, 153085659, 3215458847, 3618214006, 15865735, 799687702, 954115249, 1140851471, 2380146031, 2269656158, 1077874425, 516156222, 1463744931, 3521813306, 2942030830, 1465566725, 564318157, 3139942431, 3221174600, 3576597621, 572268299, 3923028079, 2414510695, 204676053, 2896750859, 2998079894, 1417685813, 591601391, 3449191796, 93438915, 3983368824, 1490757394, 2425565458, 23605355, 1246206448, 1561343271, 1597772318, 3841144000, 3428581508, 750192422, 1385017201, 4053098837, 950265311, 1545833856, 673301841, 2138137618, 2949651262, 3118591451, 3547594042, 1416682825, 1270658488, 1603583559, 995066119, 4056868561, 3088338244, 1849161312, 1849433828, 2570504304, 1574859946, 1805565432, 2213824257, 4143050294, 1987706592, 3287949822, 1206535394, 1787902907, 1064731865, 1289401203, 2229666394, 2623325253, 1758296316, 429899765, 911597055, 3750331069, 625698258, 2022068013, 4197862038, 2411721172, 3382771136, 1893024726, 2393905599, 2661333199, 2238304333, 1756056485, 2683774830, 2629085874, 1044555466, 3919237464, 4291143335, 4004209902, 728403239, 369170792, 1663615281, 1852742208, 3610054042, 921444738, 2419441692, 235706821, 2192125970, 1056501683, 2515752347, 460312902, 4193218978, 2290081682, 2726540215, 629001642, 772045416, 4255060898, 2412486659, 1470606978, 3017864270, 2351620617, 2339216961, 691111477, 1190341437, 3072874282, 3227570179, 2890447481, 3830224105, 3807197777, 738379005, 1373599956, 2045098899, 2486605736, 2267113761, 951834982, 3328755801, 2171829748, 1573580145, 498368099, 626375953, 2033977609, 1656872670, 3614609094, 2093395616, 944004233, 3146259213, 231859514, 943977592, 182062810, 681070370, 898859522, 2864862713, 2147473860, 2561078459, 2763459930, 2291380054, 3020252856, 162995337, 443508346, 2931897379, 874271397, 6207039, 3726595295, 3984829738, 2565810978, 455761540, 1806426907, 1836169050, 3648841190, 2718036001, 2185147207, 672595947, 2167011294, 646140591, 1171451153, 1959706109, 3520788677, 3893129850, 618944360, 4190735122, 2991949298, 3395743128, 4010607175, 549300513, 810512149, 669732782, 3465130532, 3703859590, 3850749522, 2685509344, 854264952, 1692822646, 2701470234, 3882483901, 1259327028, 1692628470, 2020997551, 3194908868, 2770642259, 366870545, 1417003491, 1680059530, 832388175, 97481646, 835271023, 1123186829, 2702824144, 3537412308, 3865187735, 1008300362, 760732497, 1240739425, 1513270007, 3399849498, 3302683572, 1476182502, 115627143, 1774092895, 4197196577, 2981267518, 902678342, 1382994344, 3564452038, 1659715396, 2772678627, 1701812459, 1108220959, 412826298, 931474788, 25750873, 2052136576, 3528065279, 3600030113, 106551043, 4055417550, 1292743618, 702173927, 668865285, 319091997, 711092838, 3409944518, 3114605029, 852555912, 3595624902, 1236135486, 76486082, 3034690228, 1820557463, 3492690087, 4169905534, 2284195452, 76332831, 2044034394, 2561147828, 2838864371, 2748867295, 219196691, 3771707607, 2772186417, 2772000921, 3803250215, 1963531857, 3037280201, 2395030726, 2836943196, 501201772, 793409646, 1995324991, 541223423, 4131054022, 2554112635, 1970458603, 2201059376, 2112440668, 2448453445, 1727538754, 328372724, 2181273496, 218645619, 1454224288, 1345759797, 930143168, 451100337, 4151992377, 698096858, 1702732418, 3456296933, 641922394, 3445175829, 2233377788, 559785104, 36238548, 4236414633, 4028881249, 3052508579, 2173923671, 1772766203, 2511075341, 1862407367, 4055835469, 1292269526, 1661652411, 1842952392, 2153386677, 634464213, 4187685260, 636458075, 736715159, 3145124869, 3018843323, 4009299165, 1978859030, 1360269320, 839680398, 20598270, 3975872601, 284069780, 3066216884, 3050859546, 509973307, 3232068387, 624516726, 424542729, 3398841644, 2969342833, 445446544, 567757828, 3545934872, 3243232892, 3268856161, 4163691602, 3054627517, 2012762801, 706856713, 888243358, 2754970367, 3208691318, 4056570151, 626227138, 1163053256, 358314763, 10713226, 1347738553, 3794737594, 2039390673, 1391485010, 1450048721, 2357100326, 2916436113, 1332199083, 1852956790, 1048835000, 2633021993, 4277978240, 871785453, 3273280061, 3391323357, 3319339303, 902473606, 555384848, 1576729304, 1611250716, 1908187337, 1520774990, 2313666003, 1624672186, 4026440376, 189467781, 3759481824, 2576713357, 2901800305, 1304478262, 400354138, 244765262, 1036349407, 1158314575, 2545290913, 390602, 15840265, 2418298627, 2770391830, 1793985814, 3295893569, 1063098181, 3586999203, 4134007223, 3109558769, 2943859158, 2139010188, 1748690965, 3119970105, 911797427, 2335908594, 2056340567, 2753921722, 1337149894, 1224819214, 2876972772, 1160517411, 3424171741, 1459669368, 1666301194, 3200442632, 1552159833, 3808873100, 2323070902, 1528474054, 3326057219, 2598613766, 2699663155, 3932793868, 365386100, 1520523175, 1724720294, 3959416695, 3106459582, 1191903891, 2131697003, 1366158443, 3081623226, 327540584, 2101314533, 3415334425, 1287663676, 3551408867, 3239290694, 250250363, 2214627929, 3929175411, 162930450, 2921657095, 241714401, 2909866594, 3485542796, 2257282867, 1125431452, 539093011, 748495526, 3540632080, 3608519395, 438856776, 2839996948, 1571483987, 3139856051, 139164979, 3964245702, 1243586653, 2236519677, 2654806101, 4123422080, 1210895272, 1315259205, 4101087603, 3877576333, 3286396575, 3152401848, 1935962997, 1451104104, 4075738298, 2243419047, 3299138179, 3788865681, 3521213662, 2955282101, 1415937192, 2974229144, 3804746752, 20064808, 636833402, 1941011589, 3483601679, 2647668000, 980634345, 670479886, 2344484721, 1615643046, 4228390867, 3159197912, 3388321866, 317190060, 313313702, 3860573922, 2215365511, 3575216665, 764902665, 455151496, 2647192484, 2996696956, 3935981182, 475086242, 3271396632, 3216144274, 2064326608, 3395627326, 327633579, 2532444623, 3201471376, 624), None)
# state = (3, (2147483648, 4293295942, 731460738, 2782991557, 3202308987, 2137089835, 2803497232, 1618106628, 602467881, 449163013, 4132063412, 3049884941, 2297400732, 3689422392, 2164300268, 401132040, 378587613, 3135818062, 655695303, 2479582439, 754066738, 2890614496, 4134075939, 4089936668, 3622112846, 2812226264, 1524123473, 47796426, 4137709177, 1504435075, 2975027684, 2514695371, 3562348625, 1340967755, 4020274871, 96980618, 4178414583, 1593742970, 1161473625, 3537191830, 3714276641, 1622364268, 740070942, 3122518782, 3662953194, 2032407269, 2077918924, 1035666826, 4200437739, 3069518237, 1555854916, 1341687718, 1199424703, 1897420794, 4059449060, 2214892257, 1862737438, 2084713573, 2015594255, 3368361111, 3717511023, 4043725130, 3220191032, 803165052, 589058644, 3870540380, 2506080775, 2273656442, 379537111, 3802473244, 1562621566, 3014962551, 3850432261, 3093088257, 2862191829, 4018197171, 3722127247, 1361830787, 3171402639, 2012913125, 785000291, 2918344863, 1273440598, 1007912133, 3781428010, 1562276398, 3783393285, 3827460711, 993944541, 1915940745, 1011134555, 4091081417, 2002675921, 2918999270, 2655968814, 981065092, 1296990213, 3663933871, 1255073199, 971037446, 1213226283, 4047396663, 1459822644, 4234328129, 2457022499, 788104970, 1289175000, 4122999133, 2732692979, 2229719483, 3012357483, 4046267652, 671281578, 2489268173, 930412204, 2780470259, 2768774795, 3500675007, 2995393698, 1075106996, 611568174, 2489023190, 3695811459, 2215224076, 488084282, 1974984476, 3931617379, 424125981, 1523957854, 3915810366, 948282368, 4195578376, 977475841, 3509210114, 3715604667, 3292671583, 2265932039, 2105231843, 3477191833, 3329883082, 3364756527, 4101614316, 2116502839, 1327324772, 2829325957, 2415325961, 3366823362, 2419464539, 4054953110, 3354817921, 3405979776, 3379295463, 300699867, 603679629, 1658244735, 2472250218, 3933672765, 3198885666, 1476947536, 4096754232, 3367633228, 646231403, 3586470125, 4217632818, 3541262411, 644728072, 849225014, 1471037022, 720618384, 1738568303, 3118271223, 3250409223, 905091323, 3564041862, 1859941312, 1006131148, 3059398393, 447220278, 3414101144, 3589773700, 372721347, 2885708665, 3358073147, 649900374, 2529551906, 2223117944, 2677174174, 4065455160, 1052597806, 1010932026, 1379889951, 2008075881, 2220340450, 2808557318, 4073357155, 1052494129, 3995842669, 3962873978, 1827561752, 1988440662, 2073031884, 1379550801, 966486693, 901697397, 3542340723, 1913921670, 3469642039, 503620772, 2260611120, 1748992463, 1097629986, 3587344594, 2944315391, 4241412665, 1357344302, 1215677211, 3161178387, 1119493053, 112661942, 2227147856, 4041599128, 1204789106, 1566810752, 888771558, 2333405192, 783392902, 1301540089, 1991310495, 1345011505, 1595341408, 1176901061, 3314456693, 2731340565, 909536816, 2768631068, 1824870747, 3730662271, 1990146225, 3420430431, 1400038862, 3103953572, 2353310428, 574734822, 4143991506, 3558712071, 953140489, 4012556595, 1763312608, 963055689, 963721901, 2961822766, 2936901482, 2392910644, 2285487292, 184465307, 4160327496, 1534634693, 3596034386, 2087013394, 3541793037, 1976356792, 3992090085, 3299815585, 1280697032, 3812646695, 2480214435, 2739997289, 3708286450, 2518275785, 2282828073, 2072460431, 3587215725, 99078697, 952608180, 3245103337, 1453409435, 3877626375, 1650107093, 542999326, 1075235833, 2707577760, 3768945248, 62190684, 2272854729, 770572227, 501170980, 2255645821, 1694782020, 1208174052, 562785961, 4129086015, 68183218, 4083092070, 1909377508, 3633274657, 826645566, 994096706, 2068549079, 406943849, 2623632275, 3798177198, 1564615749, 3770483561, 3389650884, 2607370783, 3322488459, 938717238, 1211772703, 1034893267, 1788171440, 1335267810, 3454574671, 2488938237, 1720316952, 3135065864, 1934786940, 250026874, 470092747, 1035156821, 3360035102, 2795559653, 908941319, 2796808840, 2657296975, 1657964626, 2998994937, 452602415, 3441283905, 3380359725, 4238726188, 3528424522, 2705412273, 1272399222, 3528931846, 2308140769, 623905884, 568212160, 4095711019, 438318052, 1392074480, 3500246777, 3246658125, 326896008, 2590106258, 1060229319, 4228259960, 3703554901, 1468304776, 130948126, 4000336935, 583263722, 454788727, 858179682, 3446985588, 1254099384, 3568779326, 2417057168, 3145163719, 1490182031, 2891912082, 475739054, 1929149051, 1582999721, 3511189109, 3001478073, 1393245010, 1802296758, 2757982843, 3656061465, 1806398793, 185398277, 2674090819, 1770353833, 873486054, 1953905317, 2082298286, 1719980205, 559248122, 2011184833, 966574654, 1484855005, 905972923, 734174488, 550960054, 3304977745, 813601183, 802834110, 1036019561, 1794831722, 201930368, 3566579361, 3653566789, 4249278767, 2696293717, 2721295422, 2536125901, 1747266382, 3195655058, 2338089920, 3473364669, 3146510012, 1138252254, 1781544806, 244439987, 1594051441, 3729980275, 1601582512, 3701291478, 3838602193, 3589907649, 736715752, 1871639304, 2991426689, 3494906812, 2371457711, 49552389, 2611351218, 1236709106, 4231781595, 2869022157, 2512454695, 1030962504, 1265561714, 2375878928, 3533360795, 569612791, 958055853, 147750146, 451150954, 1294476354, 1449732936, 1201360601, 4125615133, 2185315075, 4103839872, 1053828499, 3999578376, 3938450672, 1632141952, 1953540076, 2345825379, 662720153, 1707063621, 2222453734, 1049855514, 3588614242, 670031365, 1670828405, 590281388, 4277577408, 2564501428, 3608737371, 3630668434, 1798151032, 3642720176, 3271240234, 3648267667, 3184716518, 1007502899, 3227076904, 1417438436, 998154474, 302480689, 337691077, 823729207, 3413903081, 3536016567, 2620998576, 1334862392, 1901450384, 2345568596, 294860193, 425939818, 762087016, 979300717, 3083460900, 2688443853, 760209295, 697614408, 285820143, 2540415610, 3691755088, 1992439489, 1733207887, 2663265509, 3630028721, 2110555129, 1655663335, 3254883124, 316425056, 3812506207, 62449745, 4057814919, 1946140913, 3750372946, 3549529632, 2756860758, 2181335659, 3331869714, 3717918298, 1293893253, 2967328596, 3544196739, 2251242058, 2963454186, 2587982065, 3063918251, 2164857995, 2803148868, 1413110501, 1245889243, 2438825418, 3454566892, 1788718184, 2535056693, 259413702, 1912571378, 1422701211, 1252555285, 888573470, 1183839021, 3607535277, 3081328817, 1704698880, 3896523133, 4155344882, 718662627, 1428874962, 2578512847, 338551077, 3836495619, 1558965822, 2977955130, 3789201910, 1889651589, 2693937678, 2498681289, 2247029888, 1837345364, 2685269262, 3431351281, 260500839, 1564434151, 4270413152, 1127502140, 1092514012, 1568330699, 1187887367, 1550417452, 3615103095, 864736030, 632369256, 2906512385, 2404158, 1990869409, 78013204, 1481373496, 1154875023, 3439487084, 40110274, 2369555526, 1143001243, 273298602, 2441743763, 2785107373, 1006465548, 76478519, 2390963874, 1019257272, 1845043380, 4126288145, 2999081441, 744080765, 1299300541, 198637976, 623312774, 2440358982, 4223895791, 2995297351, 258139520, 2853452497, 3748703500, 2681670038, 2977990664, 4257475680, 1854539785, 2298028071, 1852275689, 2105234688, 2779008047, 675998782, 350701889, 1019613824, 3479226444, 3131802647, 2129814919, 499898031, 300470741, 1838882138, 3560409542, 1619799255, 1162429453, 1151098581, 2419457127, 1357042310, 418948938, 3720082802, 3659561575, 416821505, 1320897643, 1701737250, 99020284, 3451181134, 2599872870, 4063314768, 398075924, 1471707869, 3512726308, 2428872498, 761828216, 1157282437, 2484616219, 1137830002, 1551445477, 624), None)
#
# State with unaccessible:
# state = (3, (2147483648, 1666567437, 4016118363, 2094646436, 3255540698, 2861508409, 3959236932, 2405747474, 3523703782, 642694064, 1456692988, 4224275553, 1385790217, 3093137826, 2725947876, 2664204122, 3013316997, 163453313, 705571713, 4012574223, 4078243970, 1571580187, 3780383058, 4263608707, 466408235, 1306531528, 3210928771, 1989558911, 2468011982, 3686834816, 688716076, 1121426878, 1734660141, 2363956858, 372012872, 1188614189, 2029795154, 4172587113, 3345730380, 1713841679, 3085209281, 1559965827, 1543968790, 2622820061, 2914988692, 65666398, 3282683702, 798081099, 3640947541, 4178171515, 2011968438, 2576755833, 2554602842, 4056019200, 1664556229, 78089366, 4027531970, 2640648647, 2764665755, 1865735482, 2290744677, 819732270, 3943740201, 1219453661, 3727481033, 1905661983, 4077154716, 1647238456, 2690536276, 4126573140, 3185312053, 241030303, 87711080, 2250689424, 1510188148, 3658245932, 2938519487, 492827810, 309102902, 3009085093, 989358827, 3208349558, 3313156391, 1678455038, 3653409896, 1715710589, 1672323749, 525008283, 2610727282, 2242047703, 2598837194, 974140605, 3853884539, 2426273728, 2597717158, 536877988, 3835891962, 3798300875, 801878794, 2658852492, 1003879152, 3112881069, 1729306451, 3416922942, 1289373556, 4265660880, 3046351511, 1156962080, 3181253262, 2434074842, 1888941893, 634115208, 1998618331, 4056709635, 1605271952, 693172941, 2237774575, 414091727, 181398479, 384208383, 1836450756, 3310874772, 1128801590, 1136783767, 410142273, 1552497790, 1403210240, 552335889, 1439939699, 2788805537, 2324302605, 1379438611, 3968243335, 3375253294, 3631669484, 3858692463, 4279000666, 4294966583, 491649903, 1227462413, 3769838277, 886335545, 1680424355, 1864106537, 34804334, 2749415940, 4223041199, 4171026945, 1594629709, 396470128, 1163028558, 119038712, 1409410545, 1800538609, 3146859069, 1996666429, 3879566335, 2022239301, 1621523442, 2428301035, 638937373, 129933857, 4220505999, 882854058, 2667688487, 1628379125, 4126393223, 2385954910, 2745550105, 1400275136, 3942682250, 1073727404, 2790743699, 1324386646, 254277504, 3956408784, 3237162708, 3334484574, 209649072, 1485822779, 1688844212, 1592560438, 2621279868, 772208395, 2858447891, 3543957902, 3241410860, 2831761200, 1869079501, 2596546012, 584746324, 2430128479, 2069473483, 2446600818, 2951032699, 371196228, 219472793, 4227681673, 2758998063, 2251542785, 2151549732, 557486701, 3615918540, 3291738817, 2133289677, 615618333, 2771600309, 2416161086, 3035973994, 3458023512, 921863672, 4198442772, 11732060, 850371080, 1351490934, 1126053254, 1525943763, 4228738844, 2641383070, 1922800302, 1814764455, 1764479629, 3171179810, 3375041904, 3951679974, 485792240, 630718130, 1880566855, 1162684910, 2696301171, 3122564696, 1052639736, 3470258999, 940242010, 843725623, 2352875542, 3190371883, 1229048166, 4188426351, 791899299, 1855899063, 525454978, 578411834, 1794432032, 2534446732, 2063099536, 1518511595, 3286467748, 1731181072, 2102647869, 3399405192, 593447490, 1546829768, 3387859056, 909495233, 688612840, 1279930964, 3135311316, 2541281863, 1562925412, 1679642470, 2924578003, 229920403, 4193351283, 1512724826, 1998015172, 2319675137, 513156965, 149112713, 1563362660, 1091097203, 4243938447, 420835993, 3016266454, 303173338, 349261637, 2950551178, 254999053, 1591977760, 2219976558, 1819348287, 521894661, 4267951458, 909347684, 3275130901, 1205750622, 2975604571, 2816230095, 2963290376, 2650238488, 1545309879, 912008723, 2608952466, 1885573030, 1859757035, 561945731, 2912538301, 4292821765, 3532785546, 1938665631, 1278251636, 2550670527, 2123629923, 1246625346, 3990125660, 3924936893, 978020057, 4063706894, 17076910, 1202025967, 2287494567, 3576914091, 3294496735, 4118720600, 595489831, 4062356694, 210494161, 823535998, 640056894, 3190892654, 431605567, 1923333473, 3005452561, 2041865155, 644394382, 2934713053, 257845863, 791745358, 359023774, 12189411, 1259039753, 3218840980, 3142413863, 1196938387, 3438609408, 2416132834, 157320162, 1993535455, 561283037, 2203005122, 1578290290, 4123506845, 684514116, 3400869450, 2628254692, 3453814600, 535520843, 710874128, 1200420927, 3417888713, 3968657037, 3390583868, 389245342, 1109376157, 1515357502, 1069848003, 3392289970, 2514069209, 261086692, 1937319794, 2207348457, 3552677522, 3532355111, 1800672085, 116678756, 557690809, 3211228363, 3845212325, 4235271965, 3118717337, 633004067, 4253419596, 1584508171, 366552103, 2643156921, 2701855009, 2929520623, 1852286844, 1689672263, 59164495, 1880784048, 263847545, 1525541808, 2979242967, 1326937691, 54594389, 380166695, 413802370, 741311602, 2068501030, 2953756207, 1002918125, 2522844573, 1243983300, 883074740, 412678569, 886499706, 942307943, 213568410, 2891012351, 2833462500, 1434354142, 2303884311, 3836098638, 352645636, 3836129289, 3252405821, 3968134499, 3195515272, 4013585551, 2823549783, 2537451008, 2994538028, 3058283735, 2544866337, 473022475, 2912938433, 4026057220, 3304866439, 2240558685, 3445888751, 629465284, 3040309033, 3031230236, 722162775, 1874070100, 1110338043, 2499241636, 2372713853, 3360426476, 2542814782, 57845777, 1173073585, 3439733288, 349002509, 774298144, 102304555, 25570563, 3226150239, 3695871104, 3825719336, 4076628298, 2893464653, 2341672950, 1142394763, 498029232, 2721298993, 3688978697, 2931848383, 392626417, 1305135115, 275226360, 2730578737, 3855247967, 834527378, 104479436, 3888561112, 2225921424, 2315078261, 498512482, 1048061585, 1244516889, 2957990185, 120037800, 260098625, 162761567, 251423138, 1862273197, 3083659945, 919819825, 1617598400, 2895386587, 3035186092, 3604771056, 2227463417, 3977846999, 3666234984, 3057891935, 4175318019, 2019389707, 3208023536, 3438076226, 1468731779, 3688966497, 2847224083, 1960659391, 3060652427, 2056579489, 1581632285, 3157537352, 1732116531, 979107019, 2338507430, 4236466111, 189223419, 545614267, 2446281223, 2008547801, 918558421, 757756865, 2458723301, 4079839155, 4204299417, 3168788828, 611809089, 3994157840, 4043069838, 139308971, 3949760350, 3144570710, 3345920039, 558027992, 2411148028, 1105055737, 2167768095, 1040452356, 1707664816, 855011749, 3112312446, 980168235, 2995243841, 517837494, 886547227, 3626154924, 211742315, 1414623590, 2883651952, 3940411597, 3081187193, 271795497, 1906374005, 4017631205, 2547857075, 412377349, 2915448036, 817584455, 2660894479, 2869886584, 379478502, 525383273, 124572458, 183303241, 1923355816, 2029281743, 1783860392, 311147940, 1973557949, 3261187754, 2797423775, 3058088339, 57263298, 1308926690, 4182452759, 1927648656, 2059089971, 2745377426, 676215834, 51488987, 486880356, 1883949633, 420453755, 2148602131, 1747748916, 3562308342, 1291858629, 2077713910, 4309760, 609611514, 4213962241, 2168718645, 4245203918, 1801899743, 4016534078, 3287711833, 2139127000, 2691716171, 2954106301, 938832917, 1312722485, 1766888737, 139637912, 1068643366, 990783238, 1116846093, 1803766284, 1978580108, 215985163, 2447053919, 1009440665, 4115849601, 2529631666, 2705836836, 4274561539, 2564788880, 1044659454, 4149356208, 682547459, 2452534996, 335784565, 3607313241, 3634495343, 3012369293, 3528502930, 2097428958, 3713291513, 1287421118, 777782019, 403021236, 4073838238, 1219999929, 2292198324, 1256991237, 3950517880, 112564138, 2251580426, 3909848935, 570026278, 1021245136, 1321939001, 2071760157, 3288498200, 4122034454, 738871487, 275738931, 624), None)
# state = (3, (2147483648, 3388361797, 4265336532, 1658371640, 3210686337, 806100779, 637819686, 3951073895, 4099610750, 207380637, 1165001054, 2188963502, 2474565616, 3166371788, 1469768878, 116844535, 2522172875, 588217313, 3704336180, 834370415, 82592238, 3265554318, 2184054087, 3762311870, 1564803256, 1688965421, 1421679008, 1898310358, 2896863014, 3144630785, 192133958, 2814421692, 3970915393, 596356609, 1019239381, 1271012692, 1505567588, 984523287, 3046926016, 2799195952, 36909821, 2669094937, 144060415, 431261510, 3926717044, 1587786063, 2876237950, 1206131068, 858477582, 1815993037, 634167024, 3171950026, 3927237331, 3621941399, 3617745585, 3238874338, 1161448230, 4100064340, 3975385351, 1426871251, 108371476, 3846618978, 2485957092, 2594460324, 1718338478, 241080209, 3628498706, 1354329730, 2512245071, 974709305, 420144064, 4096896434, 2077668157, 3915535726, 4190834825, 2897639764, 3079892919, 4265930618, 3414741407, 2921461363, 2386888101, 3639767204, 852993052, 1706035968, 4171539888, 2836600938, 3939034362, 2699315588, 1006139787, 80463913, 4202379222, 584933838, 1409955673, 1481504495, 1085706347, 2669222844, 1104945322, 754588267, 2119122748, 2224246662, 391634648, 3922549648, 1771016053, 3603859537, 2267365631, 120157235, 817375954, 4091994231, 2250545319, 3072674252, 426228640, 2643887204, 188703749, 3828207007, 2387912807, 2915702883, 2666427706, 2106256765, 3683640917, 84557757, 2814092033, 3486667803, 740453162, 733222311, 3000842705, 3479944521, 129735399, 4195995035, 3690867002, 2484664478, 221672527, 727555912, 2819455161, 3017044503, 887277009, 1641475579, 8833777, 1806800147, 851648246, 12121493, 1590662766, 33299650, 4227134502, 3214740142, 1366808596, 3805623195, 2265045727, 4000472516, 4149624242, 1415402612, 1355768919, 588231560, 2690687293, 2243738687, 704197325, 970714255, 334472082, 1042985735, 491915888, 556540696, 1729136160, 3861775217, 4100984985, 642582264, 366437702, 2074236351, 1608993162, 3297299607, 37828407, 1117646290, 3339070803, 3306461337, 1407584715, 3176729259, 144631360, 2555322231, 825428775, 939270842, 2287758983, 1048400558, 1727131530, 2023640223, 4207766316, 2129286287, 3433403211, 404659833, 1922574404, 3453867605, 573721369, 3699737770, 3493092632, 2822525792, 3362035247, 1730504358, 913333582, 2850697381, 1252689833, 2972166376, 1636763398, 3539677463, 255516413, 3069724893, 1923510156, 447078219, 2674953446, 443594443, 1318018258, 3713337059, 1871378597, 720926298, 284252020, 1532686293, 2586802290, 3191595722, 245340854, 2999475260, 2980460608, 1836852558, 1040181883, 955547241, 853054322, 3324744879, 3116910608, 1830506836, 3848241090, 3717796714, 1414217250, 3181929134, 192729844, 1198710667, 1502439338, 409928710, 1751603500, 3839230309, 4195421115, 3553824558, 2830951707, 1235713039, 747851782, 3140155823, 3298049310, 3509221302, 1494246296, 4067118631, 2400967729, 1065633396, 2800546131, 4248885338, 955270045, 488468665, 1325802348, 2045068072, 402587563, 1553597856, 3582880008, 4081316315, 3271387273, 2018797650, 2154765132, 1779303327, 2836266730, 1259396145, 85014237, 1309480507, 1303014647, 164915756, 201632875, 23054432, 3998129050, 2539154187, 3015698921, 2243130057, 2552004945, 3476408867, 1045232944, 2880547070, 1459893826, 3354685652, 2076708870, 2171178258, 3156642022, 2738450348, 1395310530, 1244013556, 1077266584, 2328179168, 1633148999, 267889605, 2217589060, 3037157082, 3986506297, 1555867759, 14756307, 2792926341, 2744447626, 1237106975, 627847424, 2043854868, 4089266928, 1956836961, 2591776117, 634369736, 3371332058, 97449341, 2101139384, 1774866324, 2339766371, 4137542983, 2293812980, 4054617786, 3461020380, 3894569628, 2331239717, 3963452512, 4178431850, 2110447469, 3535453328, 2382157738, 3952018194, 534905064, 4193177093, 1721333533, 3646583714, 1581578983, 906185544, 36597345, 560923414, 3119083973, 69351793, 4155515581, 780406622, 168089273, 2495826022, 1701528457, 3432226728, 3335726041, 2794737498, 1647557130, 3227265316, 670022623, 2158227721, 2668270161, 2399087177, 1874095450, 989193938, 510016053, 2250715322, 1479831136, 1629897253, 3101801072, 452922266, 1492707560, 3522252427, 3321883075, 1876274547, 1054128775, 2811566786, 2486708892, 3068256432, 3691593841, 94963913, 188462680, 2400703847, 1884125833, 3193780869, 2045759385, 2362378249, 3597533599, 2969887894, 535782909, 391151725, 2523917075, 1212292486, 1238485257, 1298851758, 1645546973, 2162520776, 1126438962, 883561492, 778072332, 2668403821, 1686123034, 2987571170, 88486698, 3061131694, 1948458637, 1958118115, 2057202123, 3647818370, 1500218894, 2846551926, 1621225066, 3099874529, 649959032, 3911875581, 2504780733, 3857400069, 2597710061, 1514776489, 421857393, 3893340734, 3814610170, 3048464807, 224763242, 2850454351, 3075550710, 1543922922, 2506267301, 616520942, 2654404424, 3149908173, 1403479248, 789009077, 1505339182, 1717083387, 996447605, 100002385, 3956807147, 3645577571, 953597258, 3171919255, 800403764, 3574444211, 2708925367, 1505243151, 2217675104, 536939582, 1012159817, 2399611891, 3578356987, 113995765, 1512070587, 3478214916, 3658903539, 2281461406, 3032795488, 2380286895, 3219734402, 4227907260, 2199274417, 2925736174, 3759793856, 2494222206, 2582658923, 2593264301, 4122402299, 684413276, 2603841721, 3828249817, 4187464059, 1950613939, 1707227300, 497995985, 455653080, 2818702379, 3147752574, 3344127798, 3521456232, 3013404196, 1846780166, 3774423605, 4222659337, 4037729394, 1723015709, 679711030, 2637557816, 2719623585, 3851360604, 4203676288, 8980923, 2239516553, 4027108487, 3254819327, 1373080926, 134519138, 1536812744, 1133644418, 3057065259, 3831746601, 3968847899, 1958655725, 1698207939, 315359887, 3408450217, 1208803113, 1381044068, 3792538369, 1719771829, 2230720924, 217459866, 1789855354, 1824742135, 4160120178, 3668205963, 385725198, 315226643, 2224099690, 4185204801, 3139205474, 1795093778, 1440779562, 2165739600, 78506964, 4135404790, 2158037105, 2106232190, 3597302627, 658436308, 4047834812, 2449899893, 1618958412, 4287603115, 2492201314, 2613561441, 3912668239, 2494571352, 2344915505, 389517637, 2580498884, 360825390, 742578706, 2943599062, 3890978950, 3658526398, 1925872263, 4013263143, 3004144517, 2537483408, 2831453568, 621834993, 626296866, 2809687742, 1853168325, 3565399548, 693403547, 2665538360, 2360584614, 3986248252, 1640882740, 1448137837, 968374447, 467899, 2492492230, 2108815205, 1127461374, 189496537, 622177312, 3246459326, 1790801322, 1082282952, 398547905, 2485982728, 116311774, 510734852, 2470727787, 1541745224, 1927743951, 1082078839, 1580334257, 3813220133, 2523859184, 4040966400, 3174008787, 1343550350, 3570252777, 2514649913, 1439887628, 4252299509, 1293548732, 2412652335, 4158655126, 3391395861, 2082616659, 3120313815, 1365688333, 3335081918, 3727389526, 2100727394, 1907173018, 336811845, 665724316, 3520379021, 705904102, 740786729, 2771287540, 3500404299, 3225099502, 3120848145, 1227758980, 3467422944, 140323219, 3262080799, 3360224882, 2312704391, 3899803469, 4111455482, 2356783651, 3795655195, 1649594573, 4115194051, 595414730, 3138948899, 3386567801, 3419703810, 1132786966, 3784822837, 1272659263, 4187951562, 1863077016, 4129480479, 2970243748, 306773649, 4257256973, 657690076, 1032405206, 1965809802, 3109854091, 2033143074, 3532150577, 204457004, 2305376653, 910498743, 921228868, 2629136999, 624), None)
# fmt: on


def generate_room():
    # width = random.randint(min_room_size, min(max_room_size, max_width))
    # height = random.randint(min_room_size, min(max_room_size, max_height))
    room = Room(max_room_size, max_room_size)
    return room


def main():
    random.seed()
    try:
        random.setstate(state)
    except:
        print(random.getstate())

    dungeon = Dungeon(map_width, map_height)
    Scattered(dungeon, generate_room)
    Cairo(dungeon, "dungeon", grid_size, 1).draw()
    Tileset(dungeon).draw()
    dungeon.tree()


if __name__ == "__main__":
    main()
