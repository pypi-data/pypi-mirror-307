"use strict";(self.webpackChunk_amzn_amazon_sagemaker_jupyter_ai_q_developer=self.webpackChunk_amzn_amazon_sagemaker_jupyter_ai_q_developer||[]).push([[397],{1397:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_,footerPlugin:()=>w,telemetryPlugin:()=>k});var o=a(9844),n=a(5537),s=a(5778),i=a(3345),l=a.n(i),r=a(3860),d=a.n(r),m=a(2395),v=a(9708),c=a(4916);const p="@amzn/amazon_sagemaker_jupyter_ai_q_developer",g=new c.LabIcon({name:`${p}:upvote-icon`,svgstr:'<svg class="jp-icon3" width="32" height="32" viewBox="0 0 36 36" fill="#616161" xmlns="http://www.w3.org/2000/svg">\n  <path\n        clipRule="evenodd"\n        d="M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z"\n        fillRule="evenodd"\n      />\n</svg>'}),u=new c.LabIcon({name:`${p}:downvote-icon`,svgstr:'<svg class="jp-icon3" transform="scale(-1,-1)" width="32" height="32" viewBox="0 0 36 36" fill="#616161" xmlns="http://www.w3.org/2000/svg">\n  <path\n        clipRule="evenodd"\n        d="M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z"\n        fillRule="evenodd"\n      />\n</svg>'});var h;!function(e){e.Upvote="upvote",e.Downvote="downvote"}(h||(h={}));const b=({message:e})=>{const t=(0,o.useTelemetry)(),[a,n]=l().useState({submitted:!1,likeDisabled:!1,dislikeDisabled:!1}),s=o=>{a.submitted||(t.onEvent(((e,t)=>({type:e,message:{id:t.id,type:t.type,time:t.time,metadata:"metadata"in t?t.metadata:{}}}))(o,e)),n(d()((e=>{e.submitted=!0,o===h.Upvote?e.dislikeDisabled=!0:e.likeDisabled=!0}))))};return l().createElement(m.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"6px 2px",marginBottom:"1em",borderTop:"1px solid var(--jp-cell-editor-border-color)"}},l().createElement(v.A,{sx:{padding:"4px",...a.likeDisabled&&{opacity:.5}},onClick:()=>s(h.Upvote),"data-testid":"upvote-button",disabled:a.likeDisabled,title:a.dislikeDisabled?"Thank you for your feedback":a.likeDisabled?void 0:"Good response"},l().createElement(g.react,{elementPosition:"center",tag:"span"})),l().createElement(v.A,{sx:{padding:"4px",...a.dislikeDisabled&&{opacity:.5}},onClick:()=>s(h.Downvote),"data-testid":"downvote-button",disabled:a.dislikeDisabled,title:a.likeDisabled?"Thank you for your feedback":a.dislikeDisabled?void 0:"Bad response"},l().createElement(u.react,{elementPosition:"center",tag:"span"})))},y=e=>"agent"!==e.message.type&&"agent-stream"!==e.message.type||"agent-stream"===e.message.type&&!e.message.complete||void 0===e.message.metadata.q_conversation_id||void 0===e.message.metadata.q_message_id?null:l().createElement(b,{message:e.message}),k={id:`${p}:custom-telemetry`,autoStart:!0,provides:o.IJaiTelemetryHandler,activate:()=>(console.log("JupyterLab extension telemetry plugin is activated"),{onEvent:e=>{!async function(e="",t={}){const a=s.ServerConnection.makeSettings(),o=n.URLExt.join(a.baseUrl,"amazon_sagemaker_jupyter_ai_q_developer",e);let i;try{i=await s.ServerConnection.makeRequest(o,t,a)}catch(e){throw new s.ServerConnection.NetworkError(e)}let l=await i.text();if(l.length>0)try{l=JSON.parse(l)}catch(e){console.log("Not a JSON response body.",i)}if(!i.ok)throw new s.ServerConnection.ResponseError(i,l.message||l)}("/telemetry",{method:"POST",body:JSON.stringify(e)})}})},w={id:`${p}:custom-footer`,autoStart:!0,provides:o.IJaiMessageFooter,activate:e=>(console.log("JupyterLab extension footer plugin is activated"),{component:y})},_=[k,w]}}]);