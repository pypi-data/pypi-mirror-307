export const id=20040;export const ids=[20040];export const modules={95266:(t,e,i)=>{i.d(e,{g:()=>a,v:()=>n});const n=(t,e,i,n)=>{const[a,r,s]=t.split(".",3);return Number(a)>e||Number(a)===e&&(void 0===n?Number(r)>=i:Number(r)>i)||void 0!==n&&Number(a)===e&&Number(r)===i&&Number(s)>=n},a=t=>t.includes("dev")},68148:(t,e,i)=>{i.d(e,{L:()=>s,t:()=>r});const n={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},a={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},r=(t,e)=>{const i=e??t.state;return s(i)},s=(t,e)=>{const i=Number(t);if(isNaN(i))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";const r=10*Math.round(i/10);return e&&i>=10?a[r]:e?"mdi:battery-charging-outline":i<=5?"mdi:battery-alert-variant-outline":n[r]}},37064:(t,e,i)=>{i.d(e,{I:()=>n});const n=(t,e)=>{const i=e??t.state;return"router"===t?.attributes.source_type?"home"===i?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(t?.attributes.source_type)?"home"===i?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===i?"mdi:account-arrow-right":"mdi:account"}},12544:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{h:()=>u});var a=i(65459),r=i(92372),s=i(37064),o=i(68148),c=t([r]);r=(c.then?(await c)():c)[0];const u=(t,e)=>{const i=(0,a.t)(t),n=e??t.state,c=t.attributes.device_class;switch(i){case"update":return(0,r.l)(t,n);case"sensor":if("battery"===c)return(0,o.t)(t,n);break;case"device_tracker":return(0,s.I)(t,n);case"sun":return"above_horizon"===n?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}};n()}catch(t){n(t)}}))},92372:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{l:()=>s});var a=i(2989),r=t([a]);a=(r.then?(await r)():r)[0];const s=(t,e)=>"on"===(e??t.state)?(0,a.Jy)(t)?"mdi:package-down":"mdi:package-up":"mdi:package";n()}catch(t){n(t)}}))},57636:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{Yf:()=>m,ZQ:()=>l,ZV:()=>d,ty:()=>u,x:()=>c});var a=i(13265),r=i(45269),s=i(53249),o=t([a]);a=(o.then?(await o)():o)[0];const c=t=>u(t.attributes),u=(t,e)=>!!t.unit_of_measurement||!!t.state_class||(e||[]).includes(t.device_class||""),m=t=>{switch(t.number_format){case r.jG.comma_decimal:return["en-US","en"];case r.jG.decimal_comma:return["de","es","it"];case r.jG.space_comma:return["fr","sv","cs"];case r.jG.system:return;default:return t.language}},d=(t,e,i)=>{const n=e?m(e):void 0;return Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},e?.number_format===r.jG.none||Number.isNaN(Number(t))?Number.isNaN(Number(t))||""===t||e?.number_format!==r.jG.none?"string"==typeof t?t:`${(0,s.L)(t,i?.maximumFractionDigits).toString()}${"currency"===i?.style?` ${i.currency}`:""}`:new Intl.NumberFormat("en-US",y(t,{...i,useGrouping:!1})).format(Number(t)):new Intl.NumberFormat(n,y(t,i)).format(Number(t))},l=(t,e)=>{const i=e?.display_precision;return null!=i?{maximumFractionDigits:i,minimumFractionDigits:i}:Number.isInteger(Number(t?.attributes?.step))&&Number.isInteger(Number(t?.state))?{maximumFractionDigits:0}:void 0},y=(t,e)=>{const i={maximumFractionDigits:2,...e};if("string"!=typeof t)return i;if(!e||void 0===e.minimumFractionDigits&&void 0===e.maximumFractionDigits){const e=t.indexOf(".")>-1?t.split(".")[1].length:0;i.minimumFractionDigits=e,i.maximumFractionDigits=e}return i};n()}catch(t){n(t)}}))},53249:(t,e,i)=>{i.d(e,{L:()=>n});const n=(t,e=2)=>Math.round(t*10**e)/10**e},20040:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{Gp:()=>v,Yd:()=>_,Yw:()=>N,_4:()=>w,f$:()=>h,fq:()=>p,u7:()=>g});var a=i(213),r=i(59780),s=i(65459),o=i(12544),c=i(33922),u=i(95266),m=t([o]);o=(m.then?(await m)():m)[0];const d={entity:{},entity_component:{},services:{domains:{}}},l=async(t,e,i)=>t.callWS({type:"frontend/get_icons",category:e,integration:i}),y=async(t,e,i=!1)=>{if(!i&&e in d.entity)return d.entity[e];if(!(0,c.x)(t,e)||!(0,u.v)(t.connection.haVersion,2024,2))return;const n=l(t,"entity",e).then((t=>t?.resources[e]));return d.entity[e]=n,d.entity[e]},b=async(t,e,i=!1)=>!i&&d.entity_component.resources&&d.entity_component.domains?.includes(e)?d.entity_component.resources.then((t=>t[e])):(0,c.x)(t,e)?(d.entity_component.domains=[...t.config.components],d.entity_component.resources=l(t,"entity_component").then((t=>t.resources)),d.entity_component.resources.then((t=>t[e]))):void 0,_=async(t,e,i=!1)=>{if(!e)return!i&&d.services.all||(d.services.all=l(t,"services",e).then((t=>(d.services.domains=t.resources,t?.resources)))),d.services.all;if(!i&&e in d.services.domains)return d.services.domains[e];if(d.services.all&&!i&&(await d.services.all,e in d.services.domains))return d.services.domains[e];if(!(0,c.x)(t,e))return;const n=l(t,"services",e);return d.services.domains[e]=n.then((t=>t?.resources[e])),d.services.domains[e]},p=async(t,e,i)=>{const n=t.entities?.[e.entity_id];if(n?.icon)return n.icon;const a=(0,s.t)(e);return f(t,a,e,i,n)},g=async(t,e)=>{if(e.icon)return e.icon;const i=t.states[e.entity_id],n=(0,a.m)(e.entity_id);return f(t,n,i,void 0,e)},f=async(t,e,i,n,a)=>{const r=a?.platform,s=a?.translation_key,c=i?.attributes.device_class,u=n??i?.state;let m;if(s&&r){const i=await y(t,r);if(i){const t=i[e]?.[s];m=u&&t?.state?.[u]||t?.default}}if(!m&&i&&(m=(0,o.h)(i,u)),!m){const i=await b(t,e);if(i){const t=c&&i[c]||i._;m=u&&t?.state?.[u]||t?.default}}return m},v=async(t,e,i,n)=>{let a;const r=(0,s.t)(e),o=e.attributes.device_class,c=t.entities?.[e.entity_id],u=c?.platform,m=c?.translation_key,d=n??e.attributes[i];if(m&&u){const e=await y(t,u);if(e){const t=e[r]?.[m]?.state_attributes?.[i];a=d&&t?.state?.[d]||t?.default}}if(!a){const e=await b(t,r);if(e){const t=o&&e[o]?.state_attributes?.[i]||e._?.state_attributes?.[i];a=d&&t?.state?.[d]||t?.default}}return a},h=async(t,e)=>{let i;const n=(0,a.m)(e),s=(0,r.Y)(e),o=await _(t,n);if(o){const t=o[s];i=t?.service}return i||(i=await w(t,n)),i},N=async(t,e,i)=>{const n=(0,a.m)(e),s=(0,r.Y)(e),o=await _(t,n);if(o){const t=o[s];return t?.sections?.[i]}},w=async(t,e,i)=>{const n=await b(t,e);if(n){const t=i&&n[i]||n._;return t?.default}};n()}catch(t){n(t)}}))},2989:(t,e,i)=>{i.a(t,(async(t,n)=>{try{i.d(e,{A_:()=>N,Jy:()=>p,RJ:()=>b,TY:()=>y,VK:()=>_,W0:()=>v,ev:()=>g,nD:()=>h});i(253),i(2075),i(16891);var a=i(94872);if(33524==i.j)var r=i(213);if(33524==i.j)var s=i(65459);var o=i(42496),c=i(57636),u=i(2682);if(33524==i.j)var m=i(6121);if(33524==i.j)var d=i(18589);var l=t([c]);c=(l.then?(await l)():l)[0];let y=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({});const b=t=>(0,o.$)(t,y.PROGRESS)&&null!==t.attributes.update_percentage,_=(t,e=!1)=>(t.state===a.Or||e&&Boolean(t.attributes.skipped_version))&&(0,o.$)(t,y.INSTALL),p=t=>!!t.attributes.in_progress,g=(t,e)=>t.callWS({type:"update/release_notes",entity_id:e}),f=(t,e)=>Object.values(t).filter((t=>"update"===(0,s.t)(t))).sort(((t,i)=>"Home Assistant Core"===t.attributes.title?-3:"Home Assistant Core"===i.attributes.title?3:"Home Assistant Operating System"===t.attributes.title?-2:"Home Assistant Operating System"===i.attributes.title?2:"Home Assistant Supervisor"===t.attributes.title?-1:"Home Assistant Supervisor"===i.attributes.title?1:(0,u.S)(t.attributes.title||t.attributes.friendly_name||"",i.attributes.title||i.attributes.friendly_name||"",e))),v=(t,e=!1)=>f(t).filter((t=>_(t,e))),h=async(t,e)=>{const i=f(e.states,e.locale.language).map((t=>t.entity_id));if(!i.length)return void(0,m.showAlertDialog)(t,{title:e.localize("ui.panel.config.updates.no_update_entities.title"),text:e.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0});(0,d.P)(t,{message:e.localize("ui.panel.config.updates.checking_updates")});let n=0;const a=await e.connection.subscribeEvents((i=>{"update"===(0,r.m)(i.data.entity_id)&&(n++,(0,d.P)(t,{message:e.localize("ui.panel.config.updates.updates_refreshed",{count:n})}))}),"state_changed");await e.callService("homeassistant","update_entity",{entity_id:i}),await new Promise((t=>{setTimeout(t,15e3)})),a(),0===n&&(0,d.P)(t,{message:e.localize("ui.panel.config.updates.no_new_updates")})},N=(t,e)=>{const i=t.state,n=t.attributes;if("off"===i){return n.latest_version&&n.skipped_version===n.latest_version?n.latest_version:e.formatEntityState(t)}if("on"===i&&p(t)){return(0,o.$)(t,y.PROGRESS)&&null!==n.update_percentage?e.localize("ui.card.update.installing_with_progress",{progress:(0,c.ZV)(n.update_percentage,e.locale,{maximumFractionDigits:n.display_precision,minimumFractionDigits:n.display_precision})}):e.localize("ui.card.update.installing")}return e.formatEntityState(t)};n()}catch(t){n(t)}}))}};
//# sourceMappingURL=20040.yR56DW2ztms.js.map