"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[56151],{54494:function(t,e,i){var n=i(22858).A,s=i(33994).A;i.a(t,function(){var t=n(s().mark((function t(e,n){var r,a,o,l,h,d,u,c,f,v,y,m,_,p,k,g,b,A,E,C;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=i(35806),a=i(71008),o=i(62193),l=i(2816),h=i(27927),d=i(35890),u=i(71522),c=i(71499),f=i(81027),v=i(39790),y=i(253),m=i(54846),_=i(66555),p=i(15112),k=i(29818),g=i(34897),i(88400),b=i(32689),A=i(34308),E=i(17678),!(C=e([A])).then){t.next=36;break}return t.next=32,C;case 32:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=37;break;case 36:t.t0=C;case 37:A=t.t0[0],(0,h.A)([(0,k.EM)("hui-badge")],(function(t,e){var i=function(e){function i(){var e;(0,a.A)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=(0,o.A)(this,i,[].concat(s)),t(e),e}return(0,l.A)(i,e),(0,r.A)(i)}(e);return{F:i,d:[{kind:"field",decorators:[(0,k.MZ)({type:Boolean})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"_elementConfig",value:void 0},{kind:"method",key:"load",value:function(){if(!this.config)throw new Error("Cannot build badge without config");this._loadElement(this.config)}},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"disconnectedCallback",value:function(){(0,d.A)(i,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,d.A)(i,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_updateElement",value:function(t){this._element&&(this._element.setConfig(t),this._elementConfig=t,(0,g.r)(this,"badge-updated"))}},{kind:"method",key:"_loadElement",value:function(t){var e=this;for(this._element=(0,A.YH)(t),this._elementConfig=t,this.hass&&(this._element.hass=this.hass),this._element.addEventListener("ll-upgrade",(function(t){t.stopPropagation(),e.hass&&(e._element.hass=e.hass),(0,g.r)(e,"badge-updated")}),{once:!0}),this._element.addEventListener("ll-rebuild",(function(i){i.stopPropagation(),e._loadElement(t),(0,g.r)(e,"badge-updated")}),{once:!0});this.lastChild;)this.removeChild(this.lastChild);this._updateVisibility()}},{kind:"method",key:"willUpdate",value:function(t){(0,d.A)(i,"willUpdate",this,3)([t]),this._element||this.load()}},{kind:"method",key:"update",value:function(t){if((0,d.A)(i,"update",this,3)([t]),this._element){if(t.has("config")){var e,n=this._elementConfig;if(this.config!==n&&this.config)(null===(e=this.config)||void 0===e?void 0:e.type)!==(null==n?void 0:n.type)?this._loadElement(this.config):this._updateElement(this.config)}if(t.has("hass"))try{this.hass&&(this._element.hass=this.hass)}catch(s){this._loadElement((0,E.G9)(s.message,null))}}(t.has("hass")||t.has("preview"))&&this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((function(t){return t()})),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var t,e=this;if(this._clearMediaQueries(),null!==(t=this.config)&&void 0!==t&&t.visibility){var i=this.config.visibility,n=1===i.length&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,b.CZ)(this.config.visibility,(function(t){e._updateVisibility(n&&t)}))}}},{kind:"method",key:"_updateVisibility",value:function(t){var e;if(this._element&&this.hass)if(this._element.hidden)this._setElementVisibility(!1);else{var i=t||this.preview||!(null!==(e=this.config)&&void 0!==e&&e.visibility)||(0,b.XH)(this.config.visibility,this.hass);this._setElementVisibility(i)}}},{kind:"method",key:"_setElementVisibility",value:function(t){this._element&&(this.hidden!==!t&&(this.style.setProperty("display",t?"":"none"),this.toggleAttribute("hidden",!t),(0,g.r)(this,"badge-visibility-changed",{value:t})),!t&&this._element.parentElement?this.removeChild(this._element):t&&!this._element.parentElement&&this.appendChild(this._element))}}]}}),p.mN),n(),t.next=45;break;case 42:t.prev=42,t.t2=t.catch(0),n(t.t2);case 45:case"end":return t.stop()}}),t,null,[[0,42]])})));return function(e,i){return t.apply(this,arguments)}}())},56151:function(t,e,i){var n=i(22858).A,s=i(33994).A;i.a(t,function(){var t=n(s().mark((function t(n,r){var a,o,l,h,d,u,c,f,v,y,m,_,p,k,g,b,A,E,C,w,x,M,N,V,R,Z,j,Q;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.r(e),i.d(e,{HuiEntityFilterBadge:function(){return Q}}),a=i(64782),o=i(91001),l=i(35806),h=i(71008),d=i(62193),u=i(2816),c=i(27927),f=i(35890),v=i(71499),y=i(81027),m=i(13025),_=i(97741),p=i(89655),k=i(26098),g=i(39790),b=i(253),A=i(5186),E=i(2075),C=i(16891),w=i(4525),x=i(15112),M=i(29818),N=i(9627),V=i(62241),R=i(32689),Z=i(54494),!(j=n([Z])).then){t.next=49;break}return t.next=45,j;case 45:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=50;break;case 49:t.t0=j;case 50:Z=t.t0[0],Q=(0,c.A)([(0,M.EM)("hui-entity-filter-badge")],(function(t,e){var i=function(e){function i(){var e;(0,h.A)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=(0,d.A)(this,i,[].concat(s)),t(e),e}return(0,u.A)(i,e),(0,l.A)(i)}(e);return{F:i,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.wk)()],key:"_config",value:void 0},{kind:"field",key:"_elements",value:void 0},{kind:"field",key:"_configEntities",value:void 0},{kind:"field",key:"_oldEntities",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t.entities.length||!Array.isArray(t.entities))throw new Error("Entities must be specified");if(!(t.conditions&&Array.isArray(t.conditions)||t.state_filter&&Array.isArray(t.state_filter)||t.entities.every((function(t){return"object"===(0,o.A)(t)&&t.state_filter&&Array.isArray(t.state_filter)}))))throw new Error("Incorrect filter config");for(;this.lastChild;)this.removeChild(this.lastChild);this._elements=void 0,this._configEntities=(0,V.L)(t.entities),this._oldEntities=void 0,this._config=t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"shouldUpdate",value:function(t){return!!(t.has("_config")||t.has("hass")&&this.haveEntitiesChanged(t.get("hass")))}},{kind:"method",key:"update",value:function(t){var e=this;if((0,f.A)(i,"update",this,3)([t]),this.hass&&this._configEntities){if(this._elements){var n,s=(0,a.A)(this._elements);try{for(s.s();!(n=s.n()).done;){n.value.hass=this.hass}}catch(y){s.e(y)}finally{s.f()}}var r=this._configEntities.filter((function(t){var i,n,s=e.hass.states[t.entity];if(!s)return!1;var r=null!==(i=t.conditions)&&void 0!==i?i:e._config.conditions;if(r){var a=r.map((function(e){return(0,R.lB)(e,t.entity)}));return(0,R.XH)(a,e.hass)}var o=null!==(n=t.state_filter)&&void 0!==n?n:e._config.state_filter;return!!o&&o.some((function(t){return(0,N.J)(s,t)}))}));if(0===r.length)return this.style.display="none",void(this._oldEntities=r);if(!(this._oldEntities&&r.length===this._oldEntities.length&&r.every((function(t,i){return t===e._oldEntities[i]})))){this._elements=[];var o,l=(0,a.A)(r);try{for(l.s();!(o=l.n()).done;){var h=o.value,d=document.createElement("hui-badge");d.hass=this.hass,d.preview=this.preview,d.config=Object.assign({type:"entity"},h),d.load(),this._elements.push(d)}}catch(y){l.e(y)}finally{l.f()}this._oldEntities=r}if(this._elements){for(;this.lastChild;)this.removeChild(this.lastChild);var u,c=(0,a.A)(this._elements);try{for(c.s();!(u=c.n()).done;){var v=u.value;this.appendChild(v)}}catch(y){c.e(y)}finally{c.f()}this.style.display="flex",this.style.flexWrap="wrap",this.style.justifyContent="center",this.style.gap="8px"}}}},{kind:"method",key:"haveEntitiesChanged",value:function(t){var e;if(!t)return!0;if(!this._oldEntities||this.hass.localize!==t.localize)return!0;var i,n=(0,a.A)(this._configEntities);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(this.hass.states[s.entity]!==t.states[s.entity])return!0;if(s.conditions){var r,o=(0,R.Wx)(s.conditions),l=(0,a.A)(o);try{for(l.s();!(r=l.n()).done;){var h=r.value;if(this.hass.states[h]!==t.states[h])return!0}}catch(y){l.e(y)}finally{l.f()}}}}catch(y){n.e(y)}finally{n.f()}if(null!==(e=this._config)&&void 0!==e&&e.conditions){var d,u,c=(0,R.Wx)(null===(d=this._config)||void 0===d?void 0:d.conditions),f=(0,a.A)(c);try{for(f.s();!(u=f.n()).done;){var v=u.value;if(this.hass.states[v]!==t.states[v])return!0}}catch(y){f.e(y)}finally{f.f()}}return!1}}]}}),x.mN),r(),t.next=58;break;case 55:t.prev=55,t.t2=t.catch(0),r(t.t2);case 58:case"end":return t.stop()}}),t,null,[[0,55]])})));return function(e,i){return t.apply(this,arguments)}}())},9627:function(t,e,i){i.d(e,{J:function(){return s}});var n=i(91001),s=(i(82386),i(97741),i(72735),i(29193),i(66385),i(13448),i(36016),i(64646),i(98185),i(7760),i(36604),i(79641),i(16891),function(t,e){var i,s,r;if("object"===(0,n.A)(e)?(i=e.operator,s=e.value,r=e.attribute?t.attributes[e.attribute]:t.state):(i="==",s=e,r=t.state),"=="===i||"!="===i){var a="number"==typeof s||"string"==typeof s&&s.trim()&&!isNaN(Number(s)),o="number"==typeof r||"string"==typeof r&&r.trim()&&!isNaN(Number(r));a&&o&&(s=Number(s),r=Number(r))}switch(i){case"==":return r===s;case"<=":return r<=s;case"<":return r<s;case">=":return r>=s;case">":return r>s;case"!=":return r!==s;case"in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((function(t){return"".concat(t)}))),s.includes(r));case"not in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((function(t){return"".concat(t)}))),!s.includes(r));case"regex":return"string"==typeof s&&(null!==r&&"object"===(0,n.A)(r)?RegExp(s).test(JSON.stringify(r)):RegExp(s).test(r));default:return!1}})}}]);
//# sourceMappingURL=56151.zjgxbMtucgg.js.map