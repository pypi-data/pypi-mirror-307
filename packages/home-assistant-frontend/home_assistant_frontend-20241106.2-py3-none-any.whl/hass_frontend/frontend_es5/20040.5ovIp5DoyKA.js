"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[20040],{68148:function(t,e,n){n.d(e,{L:function(){return u},t:function(){return a}});n(29193);var r={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},i={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},a=function(t,e){var n=null!=e?e:t.state;return u(n)},u=function(t,e){var n=Number(t);if(isNaN(n))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";var a=10*Math.round(n/10);return e&&n>=10?i[a]:e?"mdi:battery-charging-outline":n<=5?"mdi:battery-alert-variant-outline":r[a]}},37064:function(t,e,n){n.d(e,{I:function(){return r}});n(82386);var r=function(t,e){var n=null!=e?e:t.state;return"router"===(null==t?void 0:t.attributes.source_type)?"home"===n?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==t?void 0:t.attributes.source_type)?"home"===n?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===n?"mdi:account-arrow-right":"mdi:account"}},12544:function(t,e,n){var r=n(22858).A,i=n(33994).A;n.a(t,function(){var t=r(i().mark((function t(r,a){var u,s,c,o,l,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.d(e,{h:function(){return f}}),u=n(65459),s=n(92372),c=n(37064),o=n(68148),!(l=r([s])).then){t.next=14;break}return t.next=10,l;case 10:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=15;break;case 14:t.t0=l;case 15:s=t.t0[0],f=function(t,e){var n=(0,u.t)(t),r=null!=e?e:t.state,i=t.attributes.device_class;switch(n){case"update":return(0,s.l)(t,r);case"sensor":if("battery"===i)return(0,o.t)(t,r);break;case"device_tracker":return(0,c.I)(t,r);case"sun":return"above_horizon"===r?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}},a(),t.next=23;break;case 20:t.prev=20,t.t2=t.catch(0),a(t.t2);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,n){return t.apply(this,arguments)}}())},92372:function(t,e,n){var r=n(22858).A,i=n(33994).A;n.a(t,function(){var t=r(i().mark((function t(r,a){var u,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.d(e,{l:function(){return c}}),u=n(2989),!(s=r([u])).then){t.next=11;break}return t.next=7,s;case 7:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=12;break;case 11:t.t0=s;case 12:u=t.t0[0],c=function(t,e){return"on"===(null!=e?e:t.state)?(0,u.Jy)(t)?"mdi:package-down":"mdi:package-up":"mdi:package"},a(),t.next=20;break;case 17:t.prev=17,t.t2=t.catch(0),a(t.t2);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}())},57636:function(t,e,n){var r=n(22858).A,i=n(33994).A;n.a(t,function(){var t=r(i().mark((function t(r,a){var u,s,c,o,l,f,d,p,v,m,b,h,y,g,_,x,k,A,w,N;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.d(e,{Yf:function(){return k},ZQ:function(){return w},ZV:function(){return A},ty:function(){return x},x:function(){return _}}),u=n(13265),s=n(81027),c=n(82386),o=n(39805),l=n(29193),f=n(63030),d=n(49445),p=n(26098),v=n(39790),m=n(7760),b=n(36604),h=n(45269),y=n(53249),!(g=r([u])).then){t.next=33;break}return t.next=29,g;case 29:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=34;break;case 33:t.t0=g;case 34:u=t.t0[0],_=function(t){return x(t.attributes)},x=function(t,e){return!!t.unit_of_measurement||!!t.state_class||(e||[]).includes(t.device_class||"")},k=function(t){switch(t.number_format){case h.jG.comma_decimal:return["en-US","en"];case h.jG.decimal_comma:return["de","es","it"];case h.jG.space_comma:return["fr","sv","cs"];case h.jG.system:return;default:return t.language}},A=function(t,e,n){var r=e?k(e):void 0;return Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==e?void 0:e.number_format)===h.jG.none||Number.isNaN(Number(t))?Number.isNaN(Number(t))||""===t||(null==e?void 0:e.number_format)!==h.jG.none?"string"==typeof t?t:"".concat((0,y.L)(t,null==n?void 0:n.maximumFractionDigits).toString()).concat("currency"===(null==n?void 0:n.style)?" ".concat(n.currency):""):new Intl.NumberFormat("en-US",N(t,Object.assign(Object.assign({},n),{},{useGrouping:!1}))).format(Number(t)):new Intl.NumberFormat(r,N(t,n)).format(Number(t))},w=function(t,e){var n,r=null==e?void 0:e.display_precision;return null!=r?{maximumFractionDigits:r,minimumFractionDigits:r}:Number.isInteger(Number(null==t||null===(n=t.attributes)||void 0===n?void 0:n.step))&&Number.isInteger(Number(null==t?void 0:t.state))?{maximumFractionDigits:0}:void 0},N=function(t,e){var n=Object.assign({maximumFractionDigits:2},e);if("string"!=typeof t)return n;if(!e||void 0===e.minimumFractionDigits&&void 0===e.maximumFractionDigits){var r=t.indexOf(".")>-1?t.split(".")[1].length:0;n.minimumFractionDigits=r,n.maximumFractionDigits=r}return n},a(),t.next=47;break;case 44:t.prev=44,t.t2=t.catch(0),a(t.t2);case 47:case"end":return t.stop()}}),t,null,[[0,44]])})));return function(e,n){return t.apply(this,arguments)}}())},53249:function(t,e,n){n.d(e,{L:function(){return r}});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},20040:function(t,e,n){var r=n(22858).A,i=n(33994).A;n.a(t,function(){var t=r(i().mark((function t(r,a){var u,s,c,o,l,f,d,p,v,m,b,h,y,g,_,x,k,A,w,N,S,E,O,F,I,j,D,R,G;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.d(e,{Gp:function(){return j},Yd:function(){return E},Yw:function(){return R},_4:function(){return G},f$:function(){return D},fq:function(){return O},u7:function(){return F}}),u=n(41981),s=n(33994),c=n(22858),o=n(82386),l=n(95737),f=n(39790),d=n(66457),p=n(36604),v=n(99019),m=n(96858),b=n(213),h=n(59780),y=n(65459),g=n(12544),_=n(33922),x=n(95266),!(k=r([g])).then){t.next=33;break}return t.next=29,k;case 29:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=34;break;case 33:t.t0=k;case 34:g=t.t0[0],A={entity:{},entity_component:{},services:{domains:{}}},w=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r){return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"frontend/get_icons",category:n,integration:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),N=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n){var r,i=arguments;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.length>2&&void 0!==i[2]&&i[2]||!(n in A.entity)){t.next=3;break}return t.abrupt("return",A.entity[n]);case 3:if((0,_.x)(e,n)&&(0,x.v)(e.connection.haVersion,2024,2)){t.next=5;break}return t.abrupt("return",void 0);case 5:return r=w(e,"entity",n).then((function(t){return null==t?void 0:t.resources[n]})),A.entity[n]=r,t.abrupt("return",A.entity[n]);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n){var r,i,a=arguments;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.length>2&&void 0!==a[2]&&a[2],t.next=3;break;case 3:if(i||!A.entity_component.resources||null===(r=A.entity_component.domains)||void 0===r||!r.includes(n)){t.next=5;break}return t.abrupt("return",A.entity_component.resources.then((function(t){return t[n]})));case 5:if((0,_.x)(e,n)){t.next=7;break}return t.abrupt("return",void 0);case 7:return A.entity_component.domains=(0,u.A)(e.config.components),A.entity_component.resources=w(e,"entity_component").then((function(t){return t.resources})),t.abrupt("return",A.entity_component.resources.then((function(t){return t[n]})));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n){var r,i,a=arguments;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>2&&void 0!==a[2]&&a[2],n){t.next=6;break}if(r||!A.services.all){t.next=4;break}return t.abrupt("return",A.services.all);case 4:return A.services.all=w(e,"services",n).then((function(t){return A.services.domains=t.resources,null==t?void 0:t.resources})),t.abrupt("return",A.services.all);case 6:if(r||!(n in A.services.domains)){t.next=8;break}return t.abrupt("return",A.services.domains[n]);case 8:if(!A.services.all||r){t.next=13;break}return t.next=11,A.services.all;case 11:if(!(n in A.services.domains)){t.next=13;break}return t.abrupt("return",A.services.domains[n]);case 13:if((0,_.x)(e,n)){t.next=15;break}return t.abrupt("return",void 0);case 15:return i=w(e,"services",n),A.services.domains[n]=i.then((function(t){return null==t?void 0:t.resources[n]})),t.abrupt("return",A.services.domains[n]);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r){var i,a,u;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(a=null===(i=e.entities)||void 0===i?void 0:i[n.entity_id])||!a.icon){t.next=3;break}return t.abrupt("return",a.icon);case 3:return u=(0,y.t)(n),t.abrupt("return",I(e,u,n,r,a));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),F=26240!=n.j?function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n){var r,i;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.icon){t.next=2;break}return t.abrupt("return",n.icon);case 2:return r=e.states[n.entity_id],i=(0,b.m)(n.entity_id),t.abrupt("return",I(e,i,r,void 0,n));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}():null,I=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r,i,a){var u,c,o,l,f,d,p,v,m,b,h,y;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==a?void 0:a.platform,c=null==a?void 0:a.translation_key,o=null==r?void 0:r.attributes.device_class,l=null!=i?i:null==r?void 0:r.state,!c||!u){t.next=9;break}return t.next=7,N(e,u);case 7:(d=t.sent)&&(m=null===(p=d[n])||void 0===p?void 0:p[c],f=l&&(null==m||null===(v=m.state)||void 0===v?void 0:v[l])||(null==m?void 0:m.default));case 9:if(!f&&r&&(f=(0,g.h)(r,l)),f){t.next=15;break}return t.next=13,S(e,n);case 13:(b=t.sent)&&(y=o&&b[o]||b._,f=l&&(null==y||null===(h=y.state)||void 0===h?void 0:h[l])||(null==y?void 0:y.default));case 15:return t.abrupt("return",f);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r,i,a){return t.apply(this,arguments)}}(),j=26240!=n.j?function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r,i){var a,u,c,o,l,f,d,p,v,m,b,h,g,_,x,k,A;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=(0,y.t)(n),o=n.attributes.device_class,l=null===(a=e.entities)||void 0===a?void 0:a[n.entity_id],f=null==l?void 0:l.platform,d=null==l?void 0:l.translation_key,p=null!=i?i:n.attributes[r],!d||!f){t.next=11;break}return t.next=9,N(e,f);case 9:(v=t.sent)&&(h=null===(m=v[c])||void 0===m||null===(m=m[d])||void 0===m||null===(m=m.state_attributes)||void 0===m?void 0:m[r],u=p&&(null==h||null===(b=h.state)||void 0===b?void 0:b[p])||(null==h?void 0:h.default));case 11:if(u){t.next=16;break}return t.next=14,S(e,c);case 14:(g=t.sent)&&(A=o&&(null===(_=g[o])||void 0===_||null===(_=_.state_attributes)||void 0===_?void 0:_[r])||(null===(x=g._)||void 0===x||null===(x=x.state_attributes)||void 0===x?void 0:x[r]),u=p&&(null==A||null===(k=A.state)||void 0===k?void 0:k[p])||(null==A?void 0:A.default));case 16:return t.abrupt("return",u);case 17:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}():null,D=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n){var r,i,a,u,c;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,b.m)(n),a=(0,h.Y)(n),t.next=4,E(e,i);case 4:if((u=t.sent)&&(c=u[a],r=null==c?void 0:c.service),r){t.next=10;break}return t.next=9,G(e,i);case 9:r=t.sent;case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),R=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r){var i,a,u,c,o;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,b.m)(n),a=(0,h.Y)(n),t.next=4,E(e,i);case 4:if(!(u=t.sent)){t.next=8;break}return o=u[a],t.abrupt("return",null==o||null===(c=o.sections)||void 0===c?void 0:c[r]);case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),G=function(){var t=(0,c.A)((0,s.A)().mark((function t(e,n,r){var i,a;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e,n);case 2:if(!(i=t.sent)){t.next=6;break}return a=r&&i[r]||i._,t.abrupt("return",null==a?void 0:a.default);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),a(),t.next=53;break;case 50:t.prev=50,t.t2=t.catch(0),a(t.t2);case 53:case"end":return t.stop()}}),t,null,[[0,50]])})));return function(e,n){return t.apply(this,arguments)}}())},2989:function(t,e,n){var r=n(22858).A,i=n(33994).A;n.a(t,function(){var t=r(i().mark((function t(r,a){var u,s,c,o,l,f,d,p,v,m,b,h,y,g,_,x,k,A,w,N,S,E,O,F,I,j,D,R,G;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.d(e,{A_:function(){return G},Jy:function(){return F},RJ:function(){return E},TY:function(){return S},VK:function(){return O},W0:function(){return D},ev:function(){return I},nD:function(){return R}}),u=n(33994),s=n(22858),c=n(13025),o=n(97741),l=n(33231),f=n(39790),d=n(9241),p=n(66457),v=n(253),m=n(2075),b=n(16891),h=n(94872),y=n(213),g=n(65459),_=n(42496),x=n(57636),k=n(2682),A=n(6121),33524==n.j&&(w=n(18589)),!(N=r([x])).then){t.next=38;break}return t.next=34,N;case 34:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=39;break;case 38:t.t0=N;case 39:x=t.t0[0],S=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({}),E=function(t){return(0,_.$)(t,S.PROGRESS)&&null!==t.attributes.update_percentage},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t.state===h.Or||e&&Boolean(t.attributes.skipped_version))&&(0,_.$)(t,S.INSTALL)},F=function(t){return!!t.attributes.in_progress},I=function(t,e){return t.callWS({type:"update/release_notes",entity_id:e})},j=function(t,e){return Object.values(t).filter((function(t){return"update"===(0,g.t)(t)})).sort((function(t,n){return"Home Assistant Core"===t.attributes.title?-3:"Home Assistant Core"===n.attributes.title?3:"Home Assistant Operating System"===t.attributes.title?-2:"Home Assistant Operating System"===n.attributes.title?2:"Home Assistant Supervisor"===t.attributes.title?-1:"Home Assistant Supervisor"===n.attributes.title?1:(0,k.S)(t.attributes.title||t.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",e)}))},D=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return j(t).filter((function(t){return O(t,e)}))},R=33524==n.j?function(){var t=(0,s.A)((0,u.A)().mark((function t(e,n){var r,i,a;return(0,u.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=j(n.states,n.locale.language).map((function(t){return t.entity_id}))).length){t.next=4;break}return(0,A.showAlertDialog)(e,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),t.abrupt("return");case 4:return(0,w.P)(e,{message:n.localize("ui.panel.config.updates.checking_updates")}),i=0,t.next=8,n.connection.subscribeEvents((function(t){"update"===(0,y.m)(t.data.entity_id)&&(i++,(0,w.P)(e,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:i})}))}),"state_changed");case 8:return a=t.sent,t.next=11,n.callService("homeassistant","update_entity",{entity_id:r});case 11:return t.next=13,new Promise((function(t){setTimeout(t,15e3)}));case 13:a(),0===i&&(0,w.P)(e,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}():null,G=function(t,e){var n=t.state,r=t.attributes;if("off"===n)return r.latest_version&&r.skipped_version===r.latest_version?r.latest_version:e.formatEntityState(t);if("on"===n&&F(t))return(0,_.$)(t,S.PROGRESS)&&null!==r.update_percentage?e.localize("ui.card.update.installing_with_progress",{progress:(0,x.ZV)(r.update_percentage,e.locale,{maximumFractionDigits:r.display_precision,minimumFractionDigits:r.display_precision})}):e.localize("ui.card.update.installing");return e.formatEntityState(t)},a(),t.next=55;break;case 52:t.prev=52,t.t2=t.catch(0),a(t.t2);case 55:case"end":return t.stop()}}),t,null,[[0,52]])})));return function(e,n){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=20040.5ovIp5DoyKA.js.map